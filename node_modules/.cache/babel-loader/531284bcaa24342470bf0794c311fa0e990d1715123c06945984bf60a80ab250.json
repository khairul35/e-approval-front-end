{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport raf from '../../_util/raf';\nimport { onBeforeUnmount, ref, shallowRef } from 'vue';\nexport function useLayoutState(defaultState) {\n  var stateRef = shallowRef(defaultState);\n  var rafId;\n  var updateBatchRef = shallowRef([]);\n  function setFrameState(updater) {\n    updateBatchRef.value.push(updater);\n    raf.cancel(rafId);\n    rafId = raf(function () {\n      var prevBatch = updateBatchRef.value;\n      // const prevState = stateRef.value;\n      updateBatchRef.value = [];\n      prevBatch.forEach(function (batchUpdater) {\n        stateRef.value = batchUpdater(stateRef.value);\n      });\n    });\n  }\n  onBeforeUnmount(function () {\n    raf.cancel(rafId);\n  });\n  return [stateRef, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\nexport function useTimeoutLock(defaultState) {\n  var frameRef = ref(defaultState || null);\n  var timeoutRef = ref();\n  function cleanUp() {\n    clearTimeout(timeoutRef.value);\n  }\n  function setState(newState) {\n    frameRef.value = newState;\n    cleanUp();\n    timeoutRef.value = setTimeout(function () {\n      frameRef.value = null;\n      timeoutRef.value = undefined;\n    }, 100);\n  }\n  function getState() {\n    return frameRef.value;\n  }\n  onBeforeUnmount(function () {\n    cleanUp();\n  });\n  return [setState, getState];\n}","map":{"version":3,"names":["raf","onBeforeUnmount","ref","shallowRef","useLayoutState","defaultState","stateRef","rafId","updateBatchRef","setFrameState","updater","value","push","cancel","prevBatch","forEach","batchUpdater","useTimeoutLock","frameRef","timeoutRef","cleanUp","clearTimeout","setState","newState","setTimeout","undefined","getState"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-table/hooks/useFrame.js"],"sourcesContent":["import raf from '../../_util/raf';\nimport { onBeforeUnmount, ref, shallowRef } from 'vue';\nexport function useLayoutState(defaultState) {\n  var stateRef = shallowRef(defaultState);\n  var rafId;\n  var updateBatchRef = shallowRef([]);\n  function setFrameState(updater) {\n    updateBatchRef.value.push(updater);\n    raf.cancel(rafId);\n    rafId = raf(function () {\n      var prevBatch = updateBatchRef.value;\n      // const prevState = stateRef.value;\n      updateBatchRef.value = [];\n      prevBatch.forEach(function (batchUpdater) {\n        stateRef.value = batchUpdater(stateRef.value);\n      });\n    });\n  }\n  onBeforeUnmount(function () {\n    raf.cancel(rafId);\n  });\n  return [stateRef, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\nexport function useTimeoutLock(defaultState) {\n  var frameRef = ref(defaultState || null);\n  var timeoutRef = ref();\n  function cleanUp() {\n    clearTimeout(timeoutRef.value);\n  }\n  function setState(newState) {\n    frameRef.value = newState;\n    cleanUp();\n    timeoutRef.value = setTimeout(function () {\n      frameRef.value = null;\n      timeoutRef.value = undefined;\n    }, 100);\n  }\n  function getState() {\n    return frameRef.value;\n  }\n  onBeforeUnmount(function () {\n    cleanUp();\n  });\n  return [setState, getState];\n}"],"mappings":";AAAA,OAAOA,GAAG,MAAM,iBAAiB;AACjC,SAASC,eAAe,EAAEC,GAAG,EAAEC,UAAU,QAAQ,KAAK;AACtD,OAAO,SAASC,cAAcA,CAACC,YAAY,EAAE;EAC3C,IAAIC,QAAQ,GAAGH,UAAU,CAACE,YAAY,CAAC;EACvC,IAAIE,KAAK;EACT,IAAIC,cAAc,GAAGL,UAAU,CAAC,EAAE,CAAC;EACnC,SAASM,aAAaA,CAACC,OAAO,EAAE;IAC9BF,cAAc,CAACG,KAAK,CAACC,IAAI,CAACF,OAAO,CAAC;IAClCV,GAAG,CAACa,MAAM,CAACN,KAAK,CAAC;IACjBA,KAAK,GAAGP,GAAG,CAAC,YAAY;MACtB,IAAIc,SAAS,GAAGN,cAAc,CAACG,KAAK;MACpC;MACAH,cAAc,CAACG,KAAK,GAAG,EAAE;MACzBG,SAAS,CAACC,OAAO,CAAC,UAAUC,YAAY,EAAE;QACxCV,QAAQ,CAACK,KAAK,GAAGK,YAAY,CAACV,QAAQ,CAACK,KAAK,CAAC;MAC/C,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAV,eAAe,CAAC,YAAY;IAC1BD,GAAG,CAACa,MAAM,CAACN,KAAK,CAAC;EACnB,CAAC,CAAC;EACF,OAAO,CAACD,QAAQ,EAAEG,aAAa,CAAC;AAClC;AACA;AACA,OAAO,SAASQ,cAAcA,CAACZ,YAAY,EAAE;EAC3C,IAAIa,QAAQ,GAAGhB,GAAG,CAACG,YAAY,IAAI,IAAI,CAAC;EACxC,IAAIc,UAAU,GAAGjB,GAAG,EAAE;EACtB,SAASkB,OAAOA,CAAA,EAAG;IACjBC,YAAY,CAACF,UAAU,CAACR,KAAK,CAAC;EAChC;EACA,SAASW,QAAQA,CAACC,QAAQ,EAAE;IAC1BL,QAAQ,CAACP,KAAK,GAAGY,QAAQ;IACzBH,OAAO,EAAE;IACTD,UAAU,CAACR,KAAK,GAAGa,UAAU,CAAC,YAAY;MACxCN,QAAQ,CAACP,KAAK,GAAG,IAAI;MACrBQ,UAAU,CAACR,KAAK,GAAGc,SAAS;IAC9B,CAAC,EAAE,GAAG,CAAC;EACT;EACA,SAASC,QAAQA,CAAA,EAAG;IAClB,OAAOR,QAAQ,CAACP,KAAK;EACvB;EACAV,eAAe,CAAC,YAAY;IAC1BmB,OAAO,EAAE;EACX,CAAC,CAAC;EACF,OAAO,CAACE,QAAQ,EAAEI,QAAQ,CAAC;AAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}