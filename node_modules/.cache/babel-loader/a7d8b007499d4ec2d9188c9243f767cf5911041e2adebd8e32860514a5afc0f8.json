{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\nimport { useElementSize } from '../_util/hooks/_vueuse/useElementSize';\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n  return values;\n}\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n  return false;\n}\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n        expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger();\n      // We record opened status here in case repeat open with picker\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null);\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      }\n      // ============================= Misc ==============================\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      });\n      // Active picker\n      var _useMergedState = useMergedState(0, {\n          value: toRef(props, 'activePickerIndex')\n        }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedActivePickerIndex = _useMergedState2[0],\n        setMergedActivePickerIndex = _useMergedState2[1];\n      // Operation ref\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n        return [disabled || false, disabled || false];\n      });\n      // ============================= Value =============================\n      var _useMergedState3 = useMergedState(null, {\n          value: toRef(props, 'value'),\n          defaultValue: props.defaultValue,\n          postState: function postState(values) {\n            return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n          }\n        }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        mergedValue = _useMergedState4[0],\n        setInnerValue = _useMergedState4[1];\n      // =========================== View Date ===========================\n      // Config view panel\n      var _useRangeViewDates = useRangeViewDates({\n          values: mergedValue,\n          picker: toRef(props, 'picker'),\n          defaultDates: props.defaultPickerValue,\n          generateConfig: toRef(props, 'generateConfig')\n        }),\n        _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n        startViewDate = _useRangeViewDates2[0],\n        endViewDate = _useRangeViewDates2[1],\n        setViewDate = _useRangeViewDates2[2];\n      // ========================= Select Values =========================\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n          postState: function postState(values) {\n            var postValues = values;\n            if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n              return postValues;\n            }\n            // Fill disabled unit\n            for (var i = 0; i < 2; i += 1) {\n              if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n                postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n              }\n            }\n            return postValues;\n          }\n        }),\n        _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n        selectedValue = _useMergedState6[0],\n        setSelectedValue = _useMergedState6[1];\n      // ============================= Modes =============================\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n          value: toRef(props, 'mode')\n        }),\n        _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n        mergedModes = _useMergedState8[0],\n        setInnerModes = _useMergedState8[1];\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _props$onPanelChange;\n        setInnerModes(modes);\n        (_props$onPanelChange = props.onPanelChange) === null || _props$onPanelChange === void 0 ? void 0 : _props$onPanelChange.call(props, values, modes);\n      };\n      // ========================= Disable Date ==========================\n      var _useRangeDisabled = useRangeDisabled({\n          picker: toRef(props, 'picker'),\n          selectedValue: selectedValue,\n          locale: toRef(props, 'locale'),\n          disabled: mergedDisabled,\n          disabledDate: toRef(props, 'disabledDate'),\n          generateConfig: toRef(props, 'generateConfig')\n        }, openRecordsRef),\n        _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n        disabledStartDate = _useRangeDisabled2[0],\n        disabledEndDate = _useRangeDisabled2[1];\n      // ============================= Open ==============================\n      var _useMergedState9 = useMergedState(false, {\n          value: toRef(props, 'open'),\n          defaultValue: props.defaultOpen,\n          postState: function postState(postOpen) {\n            return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n          },\n          onChange: function onChange(newOpen) {\n            var _props$onOpenChange;\n            (_props$onOpenChange = props.onOpenChange) === null || _props$onOpenChange === void 0 ? void 0 : _props$onOpenChange.call(props, newOpen);\n            if (!newOpen && operationRef.value && operationRef.value.onClose) {\n              operationRef.value.onClose();\n            }\n          }\n        }),\n        _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n        mergedOpen = _useMergedState10[0],\n        triggerInnerOpen = _useMergedState10[1];\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      });\n      var panelLeft = ref(0);\n      var arrowLeft = ref(0);\n      // ============================= Popup =============================\n      // Popup min width\n      var popupMinWidth = ref(0);\n      var _useElementSize = useElementSize(containerRef),\n        containerWidth = _useElementSize.width;\n      watch([mergedOpen, containerWidth], function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerWidth.value;\n        }\n      });\n      var _useElementSize2 = useElementSize(panelDivRef),\n        panelDivWidth = _useElementSize2.width;\n      var _useElementSize3 = useElementSize(arrowRef),\n        arrowWidth = _useElementSize3.width;\n      var _useElementSize4 = useElementSize(startInputDivRef),\n        startInputDivWidth = _useElementSize4.width;\n      var _useElementSize5 = useElementSize(separatorRef),\n        separatorWidth = _useElementSize5.width;\n      watch([mergedActivePickerIndex, mergedOpen, panelDivWidth, arrowWidth, startInputDivWidth, separatorWidth, function () {\n        return props.direction;\n      }], function () {\n        arrowLeft.value = 0;\n        if (mergedOpen.value && mergedActivePickerIndex.value) {\n          if (startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n            arrowLeft.value = startInputDivWidth.value + separatorWidth.value;\n            if (panelDivWidth.value && arrowWidth.value && arrowLeft.value > panelDivWidth.value - arrowWidth.value - (props.direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft.value ? 0 : arrowRef.value.offsetLeft)) {\n              panelLeft.value = arrowLeft.value;\n            }\n          }\n        } else if (mergedActivePickerIndex.value === 0) {\n          panelLeft.value = 0;\n        }\n      }, {\n        immediate: true\n      });\n      // ============================ Trigger ============================\n      var triggerRef = ref();\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen);\n          // Open to reset view date\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen);\n          // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index);\n        // Use setTimeout to make sure panel DOM exists\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n          locale = props.locale,\n          picker = props.picker,\n          order = props.order,\n          onCalendarChange = props.onCalendarChange,\n          allowEmpty = props.allowEmpty,\n          onChange = props.onChange,\n          showTime = props.showTime;\n        // >>>>> Format start & end values\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if (\n          // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) ||\n          // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) ||\n          // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            }\n            // Clean up cache since invalidate\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        }\n        // >>>>> Trigger `onChange` event\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        }\n        // >>>>> Open picker when\n        // Always open another picker if possible\n        var nextOpenIndex = null;\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n        /* eslint-disable no-lone-blocks */\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      };\n      // ============================= Text ==============================\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n      var _useValueTexts = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 0);\n        }), sharedTextHooksProps),\n        _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n        startValueTexts = _useValueTexts2[0],\n        firstStartValueText = _useValueTexts2[1];\n      var _useValueTexts3 = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 1);\n        }), sharedTextHooksProps),\n        _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n        endValueTexts = _useValueTexts4[0],\n        firstEndValueText = _useValueTexts4[1];\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n      var _useTextValueMapping = useTextValueMapping({\n          valueTexts: startValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 0);\n          }\n        }),\n        _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n        startText = _useTextValueMapping2[0],\n        triggerStartTextChange = _useTextValueMapping2[1],\n        resetStartText = _useTextValueMapping2[2];\n      var _useTextValueMapping3 = useTextValueMapping({\n          valueTexts: endValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 1);\n          }\n        }),\n        _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n        endText = _useTextValueMapping4[0],\n        triggerEndTextChange = _useTextValueMapping4[1],\n        resetEndText = _useTextValueMapping4[2];\n      var _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        rangeHoverValue = _useState2[0],\n        setRangeHoverValue = _useState2[1];\n      // ========================== Hover Range ==========================\n      var _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        hoverRangedValue = _useState4[0],\n        setHoverRangedValue = _useState4[1];\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n        _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n        startHoverValue = _useHoverValue2[0],\n        onStartEnter = _useHoverValue2[1],\n        onStartLeave = _useHoverValue2[2];\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n        _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n        endHoverValue = _useHoverValue4[0],\n        onEndEnter = _useHoverValue4[1],\n        onEndLeave = _useHoverValue4[2];\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      };\n      // ============================= Input =============================\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _props$onBlur;\n            (_props$onBlur = props.onBlur) === null || _props$onBlur === void 0 ? void 0 : _props$onBlur.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _props$onFocus;\n            setMergedActivePickerIndex(index);\n            (_props$onFocus = props.onFocus) === null || _props$onFocus === void 0 ? void 0 : _props$onFocus.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if (\n            // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value ||\n            // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n      var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: startOpen,\n          value: startText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown;\n            (_props$onKeydown = props.onKeydown) === null || _props$onKeydown === void 0 ? void 0 : _props$onKeydown.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n        startInputProps = _usePickerInput2[0],\n        _usePickerInput2$ = _usePickerInput2[1],\n        startFocused = _usePickerInput2$.focused,\n        startTyping = _usePickerInput2$.typing;\n      var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: endOpen,\n          value: endText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown2;\n            (_props$onKeydown2 = props.onKeydown) === null || _props$onKeydown2 === void 0 ? void 0 : _props$onKeydown2.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n        endInputProps = _usePickerInput4[0],\n        _usePickerInput4$ = _usePickerInput4[1],\n        endFocused = _usePickerInput4$.focused,\n        endTyping = _usePickerInput4$.typing;\n      // ========================== Click Picker ==========================\n      var onPickerClick = function onPickerClick(e) {\n        var _props$onClick;\n        // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n        (_props$onClick = props.onClick) === null || _props$onClick === void 0 ? void 0 : _props$onClick.call(props, e);\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _props$onMousedown;\n        // shouldn't affect input elements if picker is active\n        (_props$onMousedown = props.onMousedown) === null || _props$onMousedown === void 0 ? void 0 : _props$onMousedown.call(props, e);\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      };\n      // ============================= Sync ==============================\n      // Close should sync back with text value\n      var startStr = computed(function () {\n        var _mergedValue$value;\n        return (_mergedValue$value = mergedValue.value) !== null && _mergedValue$value !== void 0 && _mergedValue$value[0] ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _mergedValue$value2;\n        return (_mergedValue$value2 = mergedValue.value) !== null && _mergedValue$value2 !== void 0 && _mergedValue$value2[1] ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      });\n      // Sync innerValue with control mode\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      });\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n            disabled = props.disabled;\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      });\n      // ============================ Ranges =============================\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      });\n      // ============================= Panel =============================\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n          showTime = props.showTime,\n          dateRender = props.dateRender,\n          direction = props.direction,\n          _disabledTime = props.disabledTime,\n          prefixCls = props.prefixCls,\n          locale = props.locale;\n        var panelShowTime = showTime;\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n        var panelDateRender = null;\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n              today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value);\n          // clear hover value style\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n        var _props$prefixCls = props.prefixCls,\n          prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n          id = props.id,\n          popupStyle = props.popupStyle,\n          dropdownClassName = props.dropdownClassName,\n          transitionName = props.transitionName,\n          dropdownAlign = props.dropdownAlign,\n          getPopupContainer = props.getPopupContainer,\n          generateConfig = props.generateConfig,\n          locale = props.locale,\n          placeholder = props.placeholder,\n          autofocus = props.autofocus,\n          _props$picker = props.picker,\n          picker = _props$picker === void 0 ? 'date' : _props$picker,\n          showTime = props.showTime,\n          _props$separator = props.separator,\n          separator = _props$separator === void 0 ? '~' : _props$separator,\n          disabledDate = props.disabledDate,\n          panelRender = props.panelRender,\n          allowClear = props.allowClear,\n          suffixIcon = props.suffixIcon,\n          clearIcon = props.clearIcon,\n          inputReadOnly = props.inputReadOnly,\n          renderExtraFooter = props.renderExtraFooter,\n          onMouseenter = props.onMouseenter,\n          onMouseleave = props.onMouseleave,\n          onMouseup = props.onMouseup,\n          _onOk = props.onOk,\n          components = props.components,\n          direction = props.direction,\n          _props$autocomplete = props.autocomplete,\n          autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft.value, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft.value, \"px\")\n        };\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft.value, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]);\n        // ============================= Icons =============================\n        var suffixNode;\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n        var clearNode;\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n              triggerChange(values, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft.value;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        };\n        // ============================ Return =============================\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;","map":{"version":3,"names":["_typeof","_objectSpread","_defineProperty","_slicedToArray","resolveDirective","_resolveDirective","Fragment","_Fragment","createVNode","_createVNode","PickerTrigger","PickerPanel","usePickerInput","getDataOrAriaProps","toArray","getValue","updateValues","getDefaultFormat","getInputSize","elementsContains","useProvidePanel","isEqual","getClosingViewDate","isSameDate","isSameWeek","isSameQuarter","formatValue","parseValue","useValueTexts","useTextValueMapping","RangeContextProvider","useRangeDisabled","getExtraFooter","getRanges","useRangeViewDates","useHoverValue","computed","defineComponent","ref","toRef","watch","watchEffect","useMergedState","warning","useState","classNames","useProviderTrigger","legacyPropsWarning","useElementSize","reorderValues","values","generateConfig","isAfter","canValueTrigger","value","index","disabled","allowEmpty","RangerPicker","name","inheritAttrs","props","setup","_ref","attrs","expose","needConfirmButton","picker","showTime","getPortal","openRecordsRef","containerRef","panelDivRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","arrowRef","process","env","NODE_ENV","formatList","format","use12Hours","_useMergedState","_useMergedState2","mergedActivePickerIndex","setMergedActivePickerIndex","operationRef","mergedDisabled","Array","isArray","_useMergedState3","defaultValue","postState","order","_useMergedState4","mergedValue","setInnerValue","_useRangeViewDates","defaultDates","defaultPickerValue","_useRangeViewDates2","startViewDate","endViewDate","setViewDate","_useMergedState5","postValues","i","getNow","_useMergedState6","selectedValue","setSelectedValue","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_props$onPanelChange","onPanelChange","call","_useRangeDisabled","locale","disabledDate","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","defaultOpen","postOpen","onChange","newOpen","_props$onOpenChange","onOpenChange","onClose","_useMergedState10","mergedOpen","triggerInnerOpen","startOpen","endOpen","panelLeft","arrowLeft","popupMinWidth","_useElementSize","containerWidth","width","_useElementSize2","panelDivWidth","_useElementSize3","arrowWidth","_useElementSize4","startInputDivWidth","_useElementSize5","separatorWidth","direction","offsetLeft","immediate","triggerRef","_triggerOpen","clearTimeout","openRecords","setTimeout","triggerOpenAndFocus","inputRef","focus","triggerChange","newValue","sourceIndex","startValue","endValue","onCalendarChange","startStr","endStr","info","range","canStartValueTrigger","canEndValueTrigger","canTrigger","nextOpenIndex","forwardKeydown","e","onKeydown","sharedTextHooksProps","_useValueTexts","_useValueTexts2","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","onTextChange","newText","inputDate","disabledFunc","_useTextValueMapping","valueTexts","_useTextValueMapping2","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","_useState","_useState2","rangeHoverValue","setRangeHoverValue","_useState3","_useState4","hoverRangedValue","setHoverRangedValue","_useHoverValue","_useHoverValue2","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","onDateMouseenter","date","onDateMouseleave","getSharedInputHookProps","resetText","onBlur","_props$onBlur","isClickOutside","target","onFocus","_props$onFocus","triggerOpen","onSubmit","onCancel","_usePickerInput","blurToCancel","open","preventDefault","_props$onKeydown","_usePickerInput2","startInputProps","_usePickerInput2$","startFocused","focused","startTyping","typing","_usePickerInput3","_props$onKeydown2","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","onPickerClick","_props$onClick","onClick","contains","onPickerMousedown","_props$onMousedown","onMousedown","_mergedValue$value","_mergedValue$value2","length","blur","rangeList","Object","keys","ranges","map","label","newValues","onMouseenter","onMouseleave","panelHoverRangedValue","renderPanel","panelPosition","arguments","undefined","panelProps","dateRender","_disabledTime","disabledTime","prefixCls","panelShowTime","timeDefaultValues","panelDateRender","_ref2","current","today","inRange","rangedValue","default","_default","concat","newMode","viewDate","onContextSelect","type","hideHeader","hideRanges","onSelect","_classNames2","_classNames3","_classNames4","_props$prefixCls","id","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","placeholder","autofocus","_props$picker","_props$separator","separator","panelRender","allowClear","suffixIcon","clearIcon","inputReadOnly","renderExtraFooter","onMouseup","_onOk","onOk","components","_props$autocomplete","autocomplete","arrowPositionStyle","right","left","renderPanels","panels","extraNode","rangesNode","okDisabled","nextViewDate","currentMode","showDoublePanel","leftPanel","pickerValue","onPickerValueChange","newViewDate","rightPanel","mergedNodes","marginLeft","rangePanel","minWidth","suffixNode","clearNode","stopPropagation","inputSharedProps","size","activeBarLeft","activeBarWidth","offsetWidth","activeBarPositionStyle","class","style","onInput","position","popupElement","InterRangerPicker"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-picker/RangePicker.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\nimport { useElementSize } from '../_util/hooks/_vueuse/useElementSize';\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n  return values;\n}\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n  return false;\n}\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n        expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger();\n      // We record opened status here in case repeat open with picker\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null);\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      }\n      // ============================= Misc ==============================\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      });\n      // Active picker\n      var _useMergedState = useMergedState(0, {\n          value: toRef(props, 'activePickerIndex')\n        }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedActivePickerIndex = _useMergedState2[0],\n        setMergedActivePickerIndex = _useMergedState2[1];\n      // Operation ref\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n        return [disabled || false, disabled || false];\n      });\n      // ============================= Value =============================\n      var _useMergedState3 = useMergedState(null, {\n          value: toRef(props, 'value'),\n          defaultValue: props.defaultValue,\n          postState: function postState(values) {\n            return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n          }\n        }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        mergedValue = _useMergedState4[0],\n        setInnerValue = _useMergedState4[1];\n      // =========================== View Date ===========================\n      // Config view panel\n      var _useRangeViewDates = useRangeViewDates({\n          values: mergedValue,\n          picker: toRef(props, 'picker'),\n          defaultDates: props.defaultPickerValue,\n          generateConfig: toRef(props, 'generateConfig')\n        }),\n        _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n        startViewDate = _useRangeViewDates2[0],\n        endViewDate = _useRangeViewDates2[1],\n        setViewDate = _useRangeViewDates2[2];\n      // ========================= Select Values =========================\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n          postState: function postState(values) {\n            var postValues = values;\n            if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n              return postValues;\n            }\n            // Fill disabled unit\n            for (var i = 0; i < 2; i += 1) {\n              if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n                postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n              }\n            }\n            return postValues;\n          }\n        }),\n        _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n        selectedValue = _useMergedState6[0],\n        setSelectedValue = _useMergedState6[1];\n      // ============================= Modes =============================\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n          value: toRef(props, 'mode')\n        }),\n        _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n        mergedModes = _useMergedState8[0],\n        setInnerModes = _useMergedState8[1];\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _props$onPanelChange;\n        setInnerModes(modes);\n        (_props$onPanelChange = props.onPanelChange) === null || _props$onPanelChange === void 0 ? void 0 : _props$onPanelChange.call(props, values, modes);\n      };\n      // ========================= Disable Date ==========================\n      var _useRangeDisabled = useRangeDisabled({\n          picker: toRef(props, 'picker'),\n          selectedValue: selectedValue,\n          locale: toRef(props, 'locale'),\n          disabled: mergedDisabled,\n          disabledDate: toRef(props, 'disabledDate'),\n          generateConfig: toRef(props, 'generateConfig')\n        }, openRecordsRef),\n        _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n        disabledStartDate = _useRangeDisabled2[0],\n        disabledEndDate = _useRangeDisabled2[1];\n      // ============================= Open ==============================\n      var _useMergedState9 = useMergedState(false, {\n          value: toRef(props, 'open'),\n          defaultValue: props.defaultOpen,\n          postState: function postState(postOpen) {\n            return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n          },\n          onChange: function onChange(newOpen) {\n            var _props$onOpenChange;\n            (_props$onOpenChange = props.onOpenChange) === null || _props$onOpenChange === void 0 ? void 0 : _props$onOpenChange.call(props, newOpen);\n            if (!newOpen && operationRef.value && operationRef.value.onClose) {\n              operationRef.value.onClose();\n            }\n          }\n        }),\n        _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n        mergedOpen = _useMergedState10[0],\n        triggerInnerOpen = _useMergedState10[1];\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      });\n      var panelLeft = ref(0);\n      var arrowLeft = ref(0);\n      // ============================= Popup =============================\n      // Popup min width\n      var popupMinWidth = ref(0);\n      var _useElementSize = useElementSize(containerRef),\n        containerWidth = _useElementSize.width;\n      watch([mergedOpen, containerWidth], function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerWidth.value;\n        }\n      });\n      var _useElementSize2 = useElementSize(panelDivRef),\n        panelDivWidth = _useElementSize2.width;\n      var _useElementSize3 = useElementSize(arrowRef),\n        arrowWidth = _useElementSize3.width;\n      var _useElementSize4 = useElementSize(startInputDivRef),\n        startInputDivWidth = _useElementSize4.width;\n      var _useElementSize5 = useElementSize(separatorRef),\n        separatorWidth = _useElementSize5.width;\n      watch([mergedActivePickerIndex, mergedOpen, panelDivWidth, arrowWidth, startInputDivWidth, separatorWidth, function () {\n        return props.direction;\n      }], function () {\n        arrowLeft.value = 0;\n        if (mergedOpen.value && mergedActivePickerIndex.value) {\n          if (startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n            arrowLeft.value = startInputDivWidth.value + separatorWidth.value;\n            if (panelDivWidth.value && arrowWidth.value && arrowLeft.value > panelDivWidth.value - arrowWidth.value - (props.direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft.value ? 0 : arrowRef.value.offsetLeft)) {\n              panelLeft.value = arrowLeft.value;\n            }\n          }\n        } else if (mergedActivePickerIndex.value === 0) {\n          panelLeft.value = 0;\n        }\n      }, {\n        immediate: true\n      });\n      // ============================ Trigger ============================\n      var triggerRef = ref();\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen);\n          // Open to reset view date\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen);\n          // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index);\n        // Use setTimeout to make sure panel DOM exists\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n          locale = props.locale,\n          picker = props.picker,\n          order = props.order,\n          onCalendarChange = props.onCalendarChange,\n          allowEmpty = props.allowEmpty,\n          onChange = props.onChange,\n          showTime = props.showTime;\n        // >>>>> Format start & end values\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if (\n          // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) ||\n          // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) ||\n          // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            }\n            // Clean up cache since invalidate\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        }\n        // >>>>> Trigger `onChange` event\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        }\n        // >>>>> Open picker when\n        // Always open another picker if possible\n        var nextOpenIndex = null;\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n        /* eslint-disable no-lone-blocks */\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      };\n      // ============================= Text ==============================\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n      var _useValueTexts = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 0);\n        }), sharedTextHooksProps),\n        _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n        startValueTexts = _useValueTexts2[0],\n        firstStartValueText = _useValueTexts2[1];\n      var _useValueTexts3 = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 1);\n        }), sharedTextHooksProps),\n        _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n        endValueTexts = _useValueTexts4[0],\n        firstEndValueText = _useValueTexts4[1];\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n      var _useTextValueMapping = useTextValueMapping({\n          valueTexts: startValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 0);\n          }\n        }),\n        _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n        startText = _useTextValueMapping2[0],\n        triggerStartTextChange = _useTextValueMapping2[1],\n        resetStartText = _useTextValueMapping2[2];\n      var _useTextValueMapping3 = useTextValueMapping({\n          valueTexts: endValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 1);\n          }\n        }),\n        _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n        endText = _useTextValueMapping4[0],\n        triggerEndTextChange = _useTextValueMapping4[1],\n        resetEndText = _useTextValueMapping4[2];\n      var _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        rangeHoverValue = _useState2[0],\n        setRangeHoverValue = _useState2[1];\n      // ========================== Hover Range ==========================\n      var _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        hoverRangedValue = _useState4[0],\n        setHoverRangedValue = _useState4[1];\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n        _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n        startHoverValue = _useHoverValue2[0],\n        onStartEnter = _useHoverValue2[1],\n        onStartLeave = _useHoverValue2[2];\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n        _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n        endHoverValue = _useHoverValue4[0],\n        onEndEnter = _useHoverValue4[1],\n        onEndLeave = _useHoverValue4[2];\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      };\n      // ============================= Input =============================\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _props$onBlur;\n            (_props$onBlur = props.onBlur) === null || _props$onBlur === void 0 ? void 0 : _props$onBlur.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _props$onFocus;\n            setMergedActivePickerIndex(index);\n            (_props$onFocus = props.onFocus) === null || _props$onFocus === void 0 ? void 0 : _props$onFocus.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if (\n            // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value ||\n            // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n      var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: startOpen,\n          value: startText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown;\n            (_props$onKeydown = props.onKeydown) === null || _props$onKeydown === void 0 ? void 0 : _props$onKeydown.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n        startInputProps = _usePickerInput2[0],\n        _usePickerInput2$ = _usePickerInput2[1],\n        startFocused = _usePickerInput2$.focused,\n        startTyping = _usePickerInput2$.typing;\n      var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: endOpen,\n          value: endText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown2;\n            (_props$onKeydown2 = props.onKeydown) === null || _props$onKeydown2 === void 0 ? void 0 : _props$onKeydown2.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n        endInputProps = _usePickerInput4[0],\n        _usePickerInput4$ = _usePickerInput4[1],\n        endFocused = _usePickerInput4$.focused,\n        endTyping = _usePickerInput4$.typing;\n      // ========================== Click Picker ==========================\n      var onPickerClick = function onPickerClick(e) {\n        var _props$onClick;\n        // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n        (_props$onClick = props.onClick) === null || _props$onClick === void 0 ? void 0 : _props$onClick.call(props, e);\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _props$onMousedown;\n        // shouldn't affect input elements if picker is active\n        (_props$onMousedown = props.onMousedown) === null || _props$onMousedown === void 0 ? void 0 : _props$onMousedown.call(props, e);\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      };\n      // ============================= Sync ==============================\n      // Close should sync back with text value\n      var startStr = computed(function () {\n        var _mergedValue$value;\n        return (_mergedValue$value = mergedValue.value) !== null && _mergedValue$value !== void 0 && _mergedValue$value[0] ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _mergedValue$value2;\n        return (_mergedValue$value2 = mergedValue.value) !== null && _mergedValue$value2 !== void 0 && _mergedValue$value2[1] ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      });\n      // Sync innerValue with control mode\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      });\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n            disabled = props.disabled;\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      });\n      // ============================ Ranges =============================\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      });\n      // ============================= Panel =============================\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n          showTime = props.showTime,\n          dateRender = props.dateRender,\n          direction = props.direction,\n          _disabledTime = props.disabledTime,\n          prefixCls = props.prefixCls,\n          locale = props.locale;\n        var panelShowTime = showTime;\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n        var panelDateRender = null;\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n              today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value);\n          // clear hover value style\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n        var _props$prefixCls = props.prefixCls,\n          prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n          id = props.id,\n          popupStyle = props.popupStyle,\n          dropdownClassName = props.dropdownClassName,\n          transitionName = props.transitionName,\n          dropdownAlign = props.dropdownAlign,\n          getPopupContainer = props.getPopupContainer,\n          generateConfig = props.generateConfig,\n          locale = props.locale,\n          placeholder = props.placeholder,\n          autofocus = props.autofocus,\n          _props$picker = props.picker,\n          picker = _props$picker === void 0 ? 'date' : _props$picker,\n          showTime = props.showTime,\n          _props$separator = props.separator,\n          separator = _props$separator === void 0 ? '~' : _props$separator,\n          disabledDate = props.disabledDate,\n          panelRender = props.panelRender,\n          allowClear = props.allowClear,\n          suffixIcon = props.suffixIcon,\n          clearIcon = props.clearIcon,\n          inputReadOnly = props.inputReadOnly,\n          renderExtraFooter = props.renderExtraFooter,\n          onMouseenter = props.onMouseenter,\n          onMouseleave = props.onMouseleave,\n          onMouseup = props.onMouseup,\n          _onOk = props.onOk,\n          components = props.components,\n          direction = props.direction,\n          _props$autocomplete = props.autocomplete,\n          autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft.value, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft.value, \"px\")\n        };\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft.value, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]);\n        // ============================= Icons =============================\n        var suffixNode;\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n        var clearNode;\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n              triggerChange(values, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft.value;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        };\n        // ============================ Return =============================\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}