{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { onMounted, getCurrentInstance, watch, onBeforeUnmount, ref, nextTick, defineComponent, withDirectives } from 'vue';\nimport ResizeObserver from '../vc-resize-observer';\nimport classNames from '../_util/classNames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport antInput from '../_util/antInputDirective';\nimport omit from '../_util/omit';\nimport { textAreaProps } from './inputProps';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar ResizableTextArea = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ResizableTextArea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      emit = _ref.emit,\n      expose = _ref.expose;\n    var nextFrameActionId;\n    var resizeFrameId;\n    var textAreaRef = ref();\n    var textareaStyles = ref({});\n    var resizeStatus = ref(RESIZE_STATUS_NONE);\n    onBeforeUnmount(function () {\n      raf.cancel(nextFrameActionId);\n      raf.cancel(resizeFrameId);\n    });\n    // https://github.com/ant-design/ant-design/issues/21870\n    var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === textAreaRef.value) {\n          var currentStart = textAreaRef.value.selectionStart;\n          var currentEnd = textAreaRef.value.selectionEnd;\n          textAreaRef.value.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    };\n    var resizeTextarea = function resizeTextarea() {\n      var autoSize = props.autoSize || props.autosize;\n      if (!autoSize || !textAreaRef.value) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n        maxRows = autoSize.maxRows;\n      textareaStyles.value = calculateNodeHeight(textAreaRef.value, false, minRows, maxRows);\n      resizeStatus.value = RESIZE_STATUS_RESIZING;\n      raf.cancel(resizeFrameId);\n      resizeFrameId = raf(function () {\n        resizeStatus.value = RESIZE_STATUS_RESIZED;\n        resizeFrameId = raf(function () {\n          resizeStatus.value = RESIZE_STATUS_NONE;\n          fixFirefoxAutoScroll();\n        });\n      });\n    };\n    var resizeOnNextFrame = function resizeOnNextFrame() {\n      raf.cancel(nextFrameActionId);\n      nextFrameActionId = raf(resizeTextarea);\n    };\n    var handleResize = function handleResize(size) {\n      if (resizeStatus.value !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      emit('resize', size);\n      var autoSize = props.autoSize || props.autosize;\n      if (autoSize) {\n        resizeOnNextFrame();\n      }\n    };\n    warning(props.autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n    var renderTextArea = function renderTextArea() {\n      var prefixCls = props.prefixCls,\n        autoSize = props.autoSize,\n        autosize = props.autosize,\n        disabled = props.disabled;\n      var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'maxlength', 'valueModifiers']);\n      var cls = classNames(prefixCls, attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled));\n      var style = [attrs.style, textareaStyles.value, resizeStatus.value === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null];\n      var textareaProps = _objectSpread(_objectSpread(_objectSpread({}, otherProps), attrs), {}, {\n        style: style,\n        class: cls\n      });\n      if (!textareaProps.autofocus) {\n        delete textareaProps.autofocus;\n      }\n      if (textareaProps.rows === 0) {\n        delete textareaProps.rows;\n      }\n      return _createVNode(ResizeObserver, {\n        \"onResize\": handleResize,\n        \"disabled\": !(autoSize || autosize)\n      }, {\n        default: function _default() {\n          return [withDirectives(_createVNode(\"textarea\", _objectSpread(_objectSpread({}, textareaProps), {}, {\n            \"ref\": textAreaRef\n          }), null), [[antInput]])];\n        }\n      });\n    };\n    watch(function () {\n      return props.value;\n    }, function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    var instance = getCurrentInstance();\n    expose({\n      resizeTextarea: resizeTextarea,\n      textArea: textAreaRef,\n      instance: instance\n    });\n    return function () {\n      return renderTextArea();\n    };\n  }\n});\nexport default ResizableTextArea;","map":{"version":3,"names":["_objectSpread","_defineProperty","createVNode","_createVNode","onMounted","getCurrentInstance","watch","onBeforeUnmount","ref","nextTick","defineComponent","withDirectives","ResizeObserver","classNames","calculateNodeHeight","raf","warning","antInput","omit","textAreaProps","RESIZE_STATUS_NONE","RESIZE_STATUS_RESIZING","RESIZE_STATUS_RESIZED","ResizableTextArea","compatConfig","MODE","name","inheritAttrs","props","setup","_ref","attrs","emit","expose","nextFrameActionId","resizeFrameId","textAreaRef","textareaStyles","resizeStatus","cancel","fixFirefoxAutoScroll","document","activeElement","value","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","e","resizeTextarea","autoSize","autosize","minRows","maxRows","resizeOnNextFrame","handleResize","size","undefined","renderTextArea","prefixCls","disabled","otherProps","cls","class","concat","style","overflowX","overflowY","textareaProps","autofocus","rows","default","_default","instance","textArea"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/input/ResizableTextArea.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { onMounted, getCurrentInstance, watch, onBeforeUnmount, ref, nextTick, defineComponent, withDirectives } from 'vue';\nimport ResizeObserver from '../vc-resize-observer';\nimport classNames from '../_util/classNames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport antInput from '../_util/antInputDirective';\nimport omit from '../_util/omit';\nimport { textAreaProps } from './inputProps';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar ResizableTextArea = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ResizableTextArea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      emit = _ref.emit,\n      expose = _ref.expose;\n    var nextFrameActionId;\n    var resizeFrameId;\n    var textAreaRef = ref();\n    var textareaStyles = ref({});\n    var resizeStatus = ref(RESIZE_STATUS_NONE);\n    onBeforeUnmount(function () {\n      raf.cancel(nextFrameActionId);\n      raf.cancel(resizeFrameId);\n    });\n    // https://github.com/ant-design/ant-design/issues/21870\n    var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === textAreaRef.value) {\n          var currentStart = textAreaRef.value.selectionStart;\n          var currentEnd = textAreaRef.value.selectionEnd;\n          textAreaRef.value.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    };\n    var resizeTextarea = function resizeTextarea() {\n      var autoSize = props.autoSize || props.autosize;\n      if (!autoSize || !textAreaRef.value) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n        maxRows = autoSize.maxRows;\n      textareaStyles.value = calculateNodeHeight(textAreaRef.value, false, minRows, maxRows);\n      resizeStatus.value = RESIZE_STATUS_RESIZING;\n      raf.cancel(resizeFrameId);\n      resizeFrameId = raf(function () {\n        resizeStatus.value = RESIZE_STATUS_RESIZED;\n        resizeFrameId = raf(function () {\n          resizeStatus.value = RESIZE_STATUS_NONE;\n          fixFirefoxAutoScroll();\n        });\n      });\n    };\n    var resizeOnNextFrame = function resizeOnNextFrame() {\n      raf.cancel(nextFrameActionId);\n      nextFrameActionId = raf(resizeTextarea);\n    };\n    var handleResize = function handleResize(size) {\n      if (resizeStatus.value !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      emit('resize', size);\n      var autoSize = props.autoSize || props.autosize;\n      if (autoSize) {\n        resizeOnNextFrame();\n      }\n    };\n    warning(props.autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n    var renderTextArea = function renderTextArea() {\n      var prefixCls = props.prefixCls,\n        autoSize = props.autoSize,\n        autosize = props.autosize,\n        disabled = props.disabled;\n      var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'maxlength', 'valueModifiers']);\n      var cls = classNames(prefixCls, attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled));\n      var style = [attrs.style, textareaStyles.value, resizeStatus.value === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null];\n      var textareaProps = _objectSpread(_objectSpread(_objectSpread({}, otherProps), attrs), {}, {\n        style: style,\n        class: cls\n      });\n      if (!textareaProps.autofocus) {\n        delete textareaProps.autofocus;\n      }\n      if (textareaProps.rows === 0) {\n        delete textareaProps.rows;\n      }\n      return _createVNode(ResizeObserver, {\n        \"onResize\": handleResize,\n        \"disabled\": !(autoSize || autosize)\n      }, {\n        default: function _default() {\n          return [withDirectives(_createVNode(\"textarea\", _objectSpread(_objectSpread({}, textareaProps), {}, {\n            \"ref\": textAreaRef\n          }), null), [[antInput]])];\n        }\n      });\n    };\n    watch(function () {\n      return props.value;\n    }, function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    var instance = getCurrentInstance();\n    expose({\n      resizeTextarea: resizeTextarea,\n      textArea: textAreaRef,\n      instance: instance\n    });\n    return function () {\n      return renderTextArea();\n    };\n  }\n});\nexport default ResizableTextArea;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}