{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport addEventListenerWrap from '../../vc-util/Dom/addEventListener';\nimport raf from '../../_util/raf';\nimport { defineComponent, onUnmounted, computed, ref, watchEffect, getCurrentInstance } from 'vue';\nimport devWarning from '../../vc-util/devWarning';\nimport { useInjectTableContext } from '../../table/context';\nimport supportsPassive from '../../_util/supportsPassive';\nvar events = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  }\n};\nvar defaultMinWidth = 50;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DragHandle',\n  props: {\n    prefixCls: String,\n    width: {\n      type: Number,\n      required: true\n    },\n    minWidth: {\n      type: Number,\n      default: defaultMinWidth\n    },\n    maxWidth: {\n      type: Number,\n      default: Infinity\n    },\n    column: {\n      type: Object,\n      default: undefined\n    }\n  },\n  setup: function setup(props) {\n    var startX = 0;\n    var moveEvent = {\n      remove: function remove() {}\n    };\n    var stopEvent = {\n      remove: function remove() {}\n    };\n    var removeEvents = function removeEvents() {\n      moveEvent.remove();\n      stopEvent.remove();\n    };\n    onUnmounted(function () {\n      removeEvents();\n    });\n    watchEffect(function () {\n      devWarning(!isNaN(props.width), 'Table', 'width must be a number when use resizable');\n    });\n    var _useInjectTableContex = useInjectTableContext(),\n      onResizeColumn = _useInjectTableContex.onResizeColumn;\n    var minWidth = computed(function () {\n      return typeof props.minWidth === 'number' && !isNaN(props.minWidth) ? props.minWidth : defaultMinWidth;\n    });\n    var maxWidth = computed(function () {\n      return typeof props.maxWidth === 'number' && !isNaN(props.maxWidth) ? props.maxWidth : Infinity;\n    });\n    var instance = getCurrentInstance();\n    var baseWidth = 0;\n    var dragging = ref(false);\n    var rafId;\n    var updateWidth = function updateWidth(e) {\n      var pageX = 0;\n      if (e.touches) {\n        if (e.touches.length) {\n          // touchmove\n          pageX = e.touches[0].pageX;\n        } else {\n          // touchend\n          pageX = e.changedTouches[0].pageX;\n        }\n      } else {\n        pageX = e.pageX;\n      }\n      var tmpDeltaX = startX - pageX;\n      var w = Math.max(baseWidth - tmpDeltaX, minWidth.value);\n      w = Math.min(w, maxWidth.value);\n      raf.cancel(rafId);\n      rafId = raf(function () {\n        onResizeColumn(w, props.column.__originColumn__);\n      });\n    };\n    var handleMove = function handleMove(e) {\n      updateWidth(e);\n    };\n    var handleStop = function handleStop(e) {\n      dragging.value = false;\n      updateWidth(e);\n      removeEvents();\n    };\n    var handleStart = function handleStart(e, eventsFor) {\n      dragging.value = true;\n      removeEvents();\n      baseWidth = instance.vnode.el.parentNode.getBoundingClientRect().width;\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n      if (e.stopPropagation) e.stopPropagation();\n      startX = e.touches ? e.touches[0].pageX : e.pageX;\n      moveEvent = addEventListenerWrap(document.documentElement, eventsFor.move, handleMove);\n      stopEvent = addEventListenerWrap(document.documentElement, eventsFor.stop, handleStop);\n    };\n    var handleDown = function handleDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.mouse);\n    };\n    var handleTouchDown = function handleTouchDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.touch);\n    };\n    var handleClick = function handleClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n    return function () {\n      var prefixCls = props.prefixCls;\n      var touchEvents = _defineProperty({}, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', function (e) {\n        return handleTouchDown(e);\n      });\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-resize-handle \").concat(dragging.value ? 'dragging' : ''),\n        \"onMousedown\": handleDown\n      }, touchEvents), {}, {\n        \"onClick\": handleClick\n      }), [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-resize-handle-line\")\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_defineProperty","createVNode","_createVNode","addEventListenerWrap","raf","defineComponent","onUnmounted","computed","ref","watchEffect","getCurrentInstance","devWarning","useInjectTableContext","supportsPassive","events","mouse","start","move","stop","touch","defaultMinWidth","compatConfig","MODE","name","props","prefixCls","String","width","type","Number","required","minWidth","default","maxWidth","Infinity","column","Object","undefined","setup","startX","moveEvent","remove","stopEvent","removeEvents","isNaN","_useInjectTableContex","onResizeColumn","instance","baseWidth","dragging","rafId","updateWidth","e","pageX","touches","length","changedTouches","tmpDeltaX","w","Math","max","value","min","cancel","__originColumn__","handleMove","handleStop","handleStart","eventsFor","vnode","el","parentNode","getBoundingClientRect","MouseEvent","which","stopPropagation","document","documentElement","handleDown","preventDefault","handleTouchDown","handleClick","touchEvents","concat"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-table/Header/DragHandle.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport addEventListenerWrap from '../../vc-util/Dom/addEventListener';\nimport raf from '../../_util/raf';\nimport { defineComponent, onUnmounted, computed, ref, watchEffect, getCurrentInstance } from 'vue';\nimport devWarning from '../../vc-util/devWarning';\nimport { useInjectTableContext } from '../../table/context';\nimport supportsPassive from '../../_util/supportsPassive';\nvar events = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  }\n};\nvar defaultMinWidth = 50;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DragHandle',\n  props: {\n    prefixCls: String,\n    width: {\n      type: Number,\n      required: true\n    },\n    minWidth: {\n      type: Number,\n      default: defaultMinWidth\n    },\n    maxWidth: {\n      type: Number,\n      default: Infinity\n    },\n    column: {\n      type: Object,\n      default: undefined\n    }\n  },\n  setup: function setup(props) {\n    var startX = 0;\n    var moveEvent = {\n      remove: function remove() {}\n    };\n    var stopEvent = {\n      remove: function remove() {}\n    };\n    var removeEvents = function removeEvents() {\n      moveEvent.remove();\n      stopEvent.remove();\n    };\n    onUnmounted(function () {\n      removeEvents();\n    });\n    watchEffect(function () {\n      devWarning(!isNaN(props.width), 'Table', 'width must be a number when use resizable');\n    });\n    var _useInjectTableContex = useInjectTableContext(),\n      onResizeColumn = _useInjectTableContex.onResizeColumn;\n    var minWidth = computed(function () {\n      return typeof props.minWidth === 'number' && !isNaN(props.minWidth) ? props.minWidth : defaultMinWidth;\n    });\n    var maxWidth = computed(function () {\n      return typeof props.maxWidth === 'number' && !isNaN(props.maxWidth) ? props.maxWidth : Infinity;\n    });\n    var instance = getCurrentInstance();\n    var baseWidth = 0;\n    var dragging = ref(false);\n    var rafId;\n    var updateWidth = function updateWidth(e) {\n      var pageX = 0;\n      if (e.touches) {\n        if (e.touches.length) {\n          // touchmove\n          pageX = e.touches[0].pageX;\n        } else {\n          // touchend\n          pageX = e.changedTouches[0].pageX;\n        }\n      } else {\n        pageX = e.pageX;\n      }\n      var tmpDeltaX = startX - pageX;\n      var w = Math.max(baseWidth - tmpDeltaX, minWidth.value);\n      w = Math.min(w, maxWidth.value);\n      raf.cancel(rafId);\n      rafId = raf(function () {\n        onResizeColumn(w, props.column.__originColumn__);\n      });\n    };\n    var handleMove = function handleMove(e) {\n      updateWidth(e);\n    };\n    var handleStop = function handleStop(e) {\n      dragging.value = false;\n      updateWidth(e);\n      removeEvents();\n    };\n    var handleStart = function handleStart(e, eventsFor) {\n      dragging.value = true;\n      removeEvents();\n      baseWidth = instance.vnode.el.parentNode.getBoundingClientRect().width;\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n      if (e.stopPropagation) e.stopPropagation();\n      startX = e.touches ? e.touches[0].pageX : e.pageX;\n      moveEvent = addEventListenerWrap(document.documentElement, eventsFor.move, handleMove);\n      stopEvent = addEventListenerWrap(document.documentElement, eventsFor.stop, handleStop);\n    };\n    var handleDown = function handleDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.mouse);\n    };\n    var handleTouchDown = function handleTouchDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.touch);\n    };\n    var handleClick = function handleClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n    return function () {\n      var prefixCls = props.prefixCls;\n      var touchEvents = _defineProperty({}, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', function (e) {\n        return handleTouchDown(e);\n      });\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-resize-handle \").concat(dragging.value ? 'dragging' : ''),\n        \"onMousedown\": handleDown\n      }, touchEvents), {}, {\n        \"onClick\": handleClick\n      }), [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-resize-handle-line\")\n      }, null)]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}