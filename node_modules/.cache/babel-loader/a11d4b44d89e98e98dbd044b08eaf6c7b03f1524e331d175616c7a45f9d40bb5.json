{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { toArray } from '../utils/commonUtil';\nimport { injectPropsWithOption } from '../utils/valueUtil';\nimport { computed } from 'vue';\nfunction includes(test, search) {\n  return toArray(test).join('').toUpperCase().includes(search);\n}\nexport default (function (options, fieldNames, searchValue, filterOption, optionFilterProp) {\n  return computed(function () {\n    var searchValueVal = searchValue.value;\n    var optionFilterPropValue = optionFilterProp === null || optionFilterProp === void 0 ? void 0 : optionFilterProp.value;\n    var filterOptionValue = filterOption === null || filterOption === void 0 ? void 0 : filterOption.value;\n    if (!searchValueVal || filterOptionValue === false) {\n      return options.value;\n    }\n    var _fieldNames$value = fieldNames.value,\n      fieldOptions = _fieldNames$value.options,\n      fieldLabel = _fieldNames$value.label,\n      fieldValue = _fieldNames$value.value;\n    var filteredOptions = [];\n    var customizeFilter = typeof filterOptionValue === 'function';\n    var upperSearch = searchValueVal.toUpperCase();\n    var filterFunc = customizeFilter ? filterOptionValue : function (_, option) {\n      // Use provided `optionFilterProp`\n      if (optionFilterPropValue) {\n        return includes(option[optionFilterPropValue], upperSearch);\n      }\n      // Auto select `label` or `value` by option type\n      if (option[fieldOptions]) {\n        // hack `fieldLabel` since `OptionGroup` children is not `label`\n        return includes(option[fieldLabel !== 'children' ? fieldLabel : 'label'], upperSearch);\n      }\n      return includes(option[fieldValue], upperSearch);\n    };\n    var wrapOption = customizeFilter ? function (opt) {\n      return injectPropsWithOption(opt);\n    } : function (opt) {\n      return opt;\n    };\n    options.value.forEach(function (item) {\n      // Group should check child options\n      if (item[fieldOptions]) {\n        // Check group first\n        var matchGroup = filterFunc(searchValueVal, wrapOption(item));\n        if (matchGroup) {\n          filteredOptions.push(item);\n        } else {\n          // Check option\n          var subOptions = item[fieldOptions].filter(function (subItem) {\n            return filterFunc(searchValueVal, wrapOption(subItem));\n          });\n          if (subOptions.length) {\n            filteredOptions.push(_objectSpread(_objectSpread({}, item), {}, _defineProperty({}, fieldOptions, subOptions)));\n          }\n        }\n        return;\n      }\n      if (filterFunc(searchValueVal, wrapOption(item))) {\n        filteredOptions.push(item);\n      }\n    });\n    return filteredOptions;\n  });\n});","map":{"version":3,"names":["_defineProperty","_objectSpread","toArray","injectPropsWithOption","computed","includes","test","search","join","toUpperCase","options","fieldNames","searchValue","filterOption","optionFilterProp","searchValueVal","value","optionFilterPropValue","filterOptionValue","_fieldNames$value","fieldOptions","fieldLabel","label","fieldValue","filteredOptions","customizeFilter","upperSearch","filterFunc","_","option","wrapOption","opt","forEach","item","matchGroup","push","subOptions","filter","subItem","length"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-select/hooks/useFilterOptions.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { toArray } from '../utils/commonUtil';\nimport { injectPropsWithOption } from '../utils/valueUtil';\nimport { computed } from 'vue';\nfunction includes(test, search) {\n  return toArray(test).join('').toUpperCase().includes(search);\n}\nexport default (function (options, fieldNames, searchValue, filterOption, optionFilterProp) {\n  return computed(function () {\n    var searchValueVal = searchValue.value;\n    var optionFilterPropValue = optionFilterProp === null || optionFilterProp === void 0 ? void 0 : optionFilterProp.value;\n    var filterOptionValue = filterOption === null || filterOption === void 0 ? void 0 : filterOption.value;\n    if (!searchValueVal || filterOptionValue === false) {\n      return options.value;\n    }\n    var _fieldNames$value = fieldNames.value,\n      fieldOptions = _fieldNames$value.options,\n      fieldLabel = _fieldNames$value.label,\n      fieldValue = _fieldNames$value.value;\n    var filteredOptions = [];\n    var customizeFilter = typeof filterOptionValue === 'function';\n    var upperSearch = searchValueVal.toUpperCase();\n    var filterFunc = customizeFilter ? filterOptionValue : function (_, option) {\n      // Use provided `optionFilterProp`\n      if (optionFilterPropValue) {\n        return includes(option[optionFilterPropValue], upperSearch);\n      }\n      // Auto select `label` or `value` by option type\n      if (option[fieldOptions]) {\n        // hack `fieldLabel` since `OptionGroup` children is not `label`\n        return includes(option[fieldLabel !== 'children' ? fieldLabel : 'label'], upperSearch);\n      }\n      return includes(option[fieldValue], upperSearch);\n    };\n    var wrapOption = customizeFilter ? function (opt) {\n      return injectPropsWithOption(opt);\n    } : function (opt) {\n      return opt;\n    };\n    options.value.forEach(function (item) {\n      // Group should check child options\n      if (item[fieldOptions]) {\n        // Check group first\n        var matchGroup = filterFunc(searchValueVal, wrapOption(item));\n        if (matchGroup) {\n          filteredOptions.push(item);\n        } else {\n          // Check option\n          var subOptions = item[fieldOptions].filter(function (subItem) {\n            return filterFunc(searchValueVal, wrapOption(subItem));\n          });\n          if (subOptions.length) {\n            filteredOptions.push(_objectSpread(_objectSpread({}, item), {}, _defineProperty({}, fieldOptions, subOptions)));\n          }\n        }\n        return;\n      }\n      if (filterFunc(searchValueVal, wrapOption(item))) {\n        filteredOptions.push(item);\n      }\n    });\n    return filteredOptions;\n  });\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}