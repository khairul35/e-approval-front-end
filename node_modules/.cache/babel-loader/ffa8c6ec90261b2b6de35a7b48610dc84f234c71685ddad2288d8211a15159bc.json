{"ast":null,"code":"import { onBeforeUnmount, watch, onMounted } from 'vue';\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touched = false;\n  var touchY = 0;\n  var element = null;\n  // Smooth scroll\n  var interval = null;\n  var cleanUpEvents = function cleanUpEvents() {\n    if (element) {\n      element.removeEventListener('touchmove', onTouchMove);\n      element.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  var onTouchMove = function onTouchMove(e) {\n    if (touched) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var offsetY = touchY - currentY;\n      touchY = currentY;\n      if (callback(offsetY)) {\n        e.preventDefault();\n      }\n      // Smooth interval\n      clearInterval(interval);\n      interval = setInterval(function () {\n        offsetY *= SMOOTH_PTG;\n        if (!callback(offsetY, true) || Math.abs(offsetY) <= 0.1) {\n          clearInterval(interval);\n        }\n      }, 16);\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touched = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touched) {\n      touched = true;\n      touchY = Math.ceil(e.touches[0].pageY);\n      element = e.target;\n      element.addEventListener('touchmove', onTouchMove, {\n        passive: false\n      });\n      element.addEventListener('touchend', onTouchEnd);\n    }\n  };\n  var noop = function noop() {};\n  onMounted(function () {\n    document.addEventListener('touchmove', noop, {\n      passive: false\n    });\n    watch(inVirtual, function (val) {\n      listRef.value.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(interval);\n      if (val) {\n        listRef.value.addEventListener('touchstart', onTouchStart, {\n          passive: false\n        });\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(function () {\n    document.removeEventListener('touchmove', noop);\n  });\n}","map":{"version":3,"names":["onBeforeUnmount","watch","onMounted","SMOOTH_PTG","useMobileTouchMove","inVirtual","listRef","callback","touched","touchY","element","interval","cleanUpEvents","removeEventListener","onTouchMove","onTouchEnd","e","currentY","Math","ceil","touches","pageY","offsetY","preventDefault","clearInterval","setInterval","abs","onTouchStart","length","target","addEventListener","passive","noop","document","val","value","immediate"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-virtual-list/hooks/useMobileTouchMove.js"],"sourcesContent":["import { onBeforeUnmount, watch, onMounted } from 'vue';\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touched = false;\n  var touchY = 0;\n  var element = null;\n  // Smooth scroll\n  var interval = null;\n  var cleanUpEvents = function cleanUpEvents() {\n    if (element) {\n      element.removeEventListener('touchmove', onTouchMove);\n      element.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  var onTouchMove = function onTouchMove(e) {\n    if (touched) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var offsetY = touchY - currentY;\n      touchY = currentY;\n      if (callback(offsetY)) {\n        e.preventDefault();\n      }\n      // Smooth interval\n      clearInterval(interval);\n      interval = setInterval(function () {\n        offsetY *= SMOOTH_PTG;\n        if (!callback(offsetY, true) || Math.abs(offsetY) <= 0.1) {\n          clearInterval(interval);\n        }\n      }, 16);\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touched = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touched) {\n      touched = true;\n      touchY = Math.ceil(e.touches[0].pageY);\n      element = e.target;\n      element.addEventListener('touchmove', onTouchMove, {\n        passive: false\n      });\n      element.addEventListener('touchend', onTouchEnd);\n    }\n  };\n  var noop = function noop() {};\n  onMounted(function () {\n    document.addEventListener('touchmove', noop, {\n      passive: false\n    });\n    watch(inVirtual, function (val) {\n      listRef.value.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(interval);\n      if (val) {\n        listRef.value.addEventListener('touchstart', onTouchStart, {\n          passive: false\n        });\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(function () {\n    document.removeEventListener('touchmove', noop);\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}