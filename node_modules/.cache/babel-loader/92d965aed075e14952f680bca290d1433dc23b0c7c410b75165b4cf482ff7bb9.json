{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { onMounted, ref, defineComponent, onBeforeUnmount } from 'vue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonTypes';\nimport useDestroyed from './hooks/useDestroyed';\nvar actionButtonProps = {\n  type: {\n    type: String\n  },\n  actionFn: Function,\n  close: Function,\n  autofocus: Boolean,\n  prefixCls: String,\n  buttonProps: Object,\n  emitEvent: Boolean,\n  quitOnNullishReturnValue: Boolean\n};\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ActionButton',\n  props: actionButtonProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var clickedRef = ref(false);\n    var buttonRef = ref();\n    var loading = ref(false);\n    var timeoutId;\n    var isDestroyed = useDestroyed();\n    onMounted(function () {\n      if (props.autofocus) {\n        timeoutId = setTimeout(function () {\n          var _buttonRef$value$$el;\n          return (_buttonRef$value$$el = buttonRef.value.$el) === null || _buttonRef$value$$el === void 0 ? void 0 : _buttonRef$value$$el.focus();\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n      var close = props.close;\n      if (!isThenable(returnValueOfOnOk)) {\n        return;\n      }\n      loading.value = true;\n      returnValueOfOnOk.then(function () {\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        close.apply(void 0, arguments);\n        clickedRef.value = false;\n      }, function (e) {\n        // Emit error when catch promise reject\n        // eslint-disable-next-line no-console\n        console.error(e);\n        // See: https://github.com/ant-design/ant-design/issues/6183\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        clickedRef.value = false;\n      });\n    };\n    var onClick = function onClick(e) {\n      var actionFn = props.actionFn,\n        _props$close = props.close,\n        close = _props$close === void 0 ? function () {} : _props$close;\n      if (clickedRef.value) {\n        return;\n      }\n      clickedRef.value = true;\n      if (!actionFn) {\n        close();\n        return;\n      }\n      var returnValueOfOnOk;\n      if (props.emitEvent) {\n        returnValueOfOnOk = actionFn(e);\n        if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n          clickedRef.value = false;\n          close(e);\n          return;\n        }\n      } else if (actionFn.length) {\n        returnValueOfOnOk = actionFn(close);\n        // https://github.com/ant-design/ant-design/issues/23358\n        clickedRef.value = false;\n      } else {\n        returnValueOfOnOk = actionFn();\n        if (!returnValueOfOnOk) {\n          close();\n          return;\n        }\n      }\n      handlePromiseOnOk(returnValueOfOnOk);\n    };\n    return function () {\n      var type = props.type,\n        prefixCls = props.prefixCls,\n        buttonProps = props.buttonProps;\n      return _createVNode(Button, _objectSpread(_objectSpread(_objectSpread({}, convertLegacyProps(type)), {}, {\n        \"onClick\": onClick,\n        \"loading\": loading.value,\n        \"prefixCls\": prefixCls\n      }, buttonProps), {}, {\n        \"ref\": buttonRef\n      }), slots);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","resolveDirective","_resolveDirective","onMounted","ref","defineComponent","onBeforeUnmount","Button","convertLegacyProps","useDestroyed","actionButtonProps","type","String","actionFn","Function","close","autofocus","Boolean","prefixCls","buttonProps","Object","emitEvent","quitOnNullishReturnValue","isThenable","thing","then","compatConfig","MODE","name","props","setup","_ref","slots","clickedRef","buttonRef","loading","timeoutId","isDestroyed","setTimeout","_buttonRef$value$$el","value","$el","focus","clearTimeout","handlePromiseOnOk","returnValueOfOnOk","apply","arguments","e","console","error","onClick","_props$close","length"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/_util/ActionButton.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { onMounted, ref, defineComponent, onBeforeUnmount } from 'vue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonTypes';\nimport useDestroyed from './hooks/useDestroyed';\nvar actionButtonProps = {\n  type: {\n    type: String\n  },\n  actionFn: Function,\n  close: Function,\n  autofocus: Boolean,\n  prefixCls: String,\n  buttonProps: Object,\n  emitEvent: Boolean,\n  quitOnNullishReturnValue: Boolean\n};\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ActionButton',\n  props: actionButtonProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var clickedRef = ref(false);\n    var buttonRef = ref();\n    var loading = ref(false);\n    var timeoutId;\n    var isDestroyed = useDestroyed();\n    onMounted(function () {\n      if (props.autofocus) {\n        timeoutId = setTimeout(function () {\n          var _buttonRef$value$$el;\n          return (_buttonRef$value$$el = buttonRef.value.$el) === null || _buttonRef$value$$el === void 0 ? void 0 : _buttonRef$value$$el.focus();\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n      var close = props.close;\n      if (!isThenable(returnValueOfOnOk)) {\n        return;\n      }\n      loading.value = true;\n      returnValueOfOnOk.then(function () {\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        close.apply(void 0, arguments);\n        clickedRef.value = false;\n      }, function (e) {\n        // Emit error when catch promise reject\n        // eslint-disable-next-line no-console\n        console.error(e);\n        // See: https://github.com/ant-design/ant-design/issues/6183\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        clickedRef.value = false;\n      });\n    };\n    var onClick = function onClick(e) {\n      var actionFn = props.actionFn,\n        _props$close = props.close,\n        close = _props$close === void 0 ? function () {} : _props$close;\n      if (clickedRef.value) {\n        return;\n      }\n      clickedRef.value = true;\n      if (!actionFn) {\n        close();\n        return;\n      }\n      var returnValueOfOnOk;\n      if (props.emitEvent) {\n        returnValueOfOnOk = actionFn(e);\n        if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n          clickedRef.value = false;\n          close(e);\n          return;\n        }\n      } else if (actionFn.length) {\n        returnValueOfOnOk = actionFn(close);\n        // https://github.com/ant-design/ant-design/issues/23358\n        clickedRef.value = false;\n      } else {\n        returnValueOfOnOk = actionFn();\n        if (!returnValueOfOnOk) {\n          close();\n          return;\n        }\n      }\n      handlePromiseOnOk(returnValueOfOnOk);\n    };\n    return function () {\n      var type = props.type,\n        prefixCls = props.prefixCls,\n        buttonProps = props.buttonProps;\n      return _createVNode(Button, _objectSpread(_objectSpread(_objectSpread({}, convertLegacyProps(type)), {}, {\n        \"onClick\": onClick,\n        \"loading\": loading.value,\n        \"prefixCls\": prefixCls\n      }, buttonProps), {}, {\n        \"ref\": buttonRef\n      }), slots);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}