{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, onUnmounted, reactive, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nfunction UnitNumber(_ref) {\n  var prefixCls = _ref.prefixCls,\n    value = _ref.value,\n    current = _ref.current,\n    _ref$offset = _ref.offset,\n    offset = _ref$offset === void 0 ? 0 : _ref$offset;\n  var style;\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: \"\".concat(offset, \"00%\"),\n      left: 0\n    };\n  }\n  return _createVNode(\"p\", {\n    \"style\": style,\n    \"class\": classNames(\"\".concat(prefixCls, \"-only-unit\"), {\n      current: current\n    })\n  }, [value]);\n}\nfunction getOffset(start, end, unit) {\n  var index = start;\n  var offset = 0;\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n  return offset;\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'SingleNumber',\n  props: {\n    prefixCls: String,\n    value: String,\n    count: Number\n  },\n  setup: function setup(props) {\n    var originValue = computed(function () {\n      return Number(props.value);\n    });\n    var originCount = computed(function () {\n      return Math.abs(props.count);\n    });\n    var state = reactive({\n      prevValue: originValue.value,\n      prevCount: originCount.value\n    });\n    // ============================= Events =============================\n    var onTransitionEnd = function onTransitionEnd() {\n      state.prevValue = originValue.value;\n      state.prevCount = originCount.value;\n    };\n    var timeout = ref();\n    // Fallback if transition event not support\n    watch(originValue, function () {\n      clearTimeout(timeout.value);\n      timeout.value = setTimeout(function () {\n        onTransitionEnd();\n      }, 1000);\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      clearTimeout(timeout.value);\n    });\n    return function () {\n      var unitNodes;\n      var offsetStyle = {};\n      var value = originValue.value;\n      if (state.prevValue === value || Number.isNaN(value) || Number.isNaN(state.prevValue)) {\n        // Nothing to change\n        unitNodes = [UnitNumber(_objectSpread(_objectSpread({}, props), {}, {\n          current: true\n        }))];\n        offsetStyle = {\n          transition: 'none'\n        };\n      } else {\n        unitNodes = [];\n        // Fill basic number units\n        var end = value + 10;\n        var unitNumberList = [];\n        for (var index = value; index <= end; index += 1) {\n          unitNumberList.push(index);\n        }\n        // Fill with number unit nodes\n        var prevIndex = unitNumberList.findIndex(function (n) {\n          return n % 10 === state.prevValue;\n        });\n        unitNodes = unitNumberList.map(function (n, index) {\n          var singleUnit = n % 10;\n          return UnitNumber(_objectSpread(_objectSpread({}, props), {}, {\n            value: singleUnit,\n            offset: index - prevIndex,\n            current: index === prevIndex\n          }));\n        });\n        // Calculate container offset value\n        var unit = state.prevCount < originCount.value ? 1 : -1;\n        offsetStyle = {\n          transform: \"translateY(\".concat(-getOffset(state.prevValue, value, unit), \"00%)\")\n        };\n      }\n      return _createVNode(\"span\", {\n        \"class\": \"\".concat(props.prefixCls, \"-only\"),\n        \"style\": offsetStyle,\n        \"onTransitionend\": function onTransitionend() {\n          return onTransitionEnd();\n        }\n      }, [unitNodes]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","computed","defineComponent","onUnmounted","reactive","ref","watch","classNames","UnitNumber","_ref","prefixCls","value","current","_ref$offset","offset","style","position","top","concat","left","getOffset","start","end","unit","index","compatConfig","MODE","name","props","String","count","Number","setup","originValue","originCount","Math","abs","state","prevValue","prevCount","onTransitionEnd","timeout","clearTimeout","setTimeout","flush","unitNodes","offsetStyle","isNaN","transition","unitNumberList","push","prevIndex","findIndex","n","map","singleUnit","transform","onTransitionend"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/badge/SingleNumber.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, onUnmounted, reactive, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nfunction UnitNumber(_ref) {\n  var prefixCls = _ref.prefixCls,\n    value = _ref.value,\n    current = _ref.current,\n    _ref$offset = _ref.offset,\n    offset = _ref$offset === void 0 ? 0 : _ref$offset;\n  var style;\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: \"\".concat(offset, \"00%\"),\n      left: 0\n    };\n  }\n  return _createVNode(\"p\", {\n    \"style\": style,\n    \"class\": classNames(\"\".concat(prefixCls, \"-only-unit\"), {\n      current: current\n    })\n  }, [value]);\n}\nfunction getOffset(start, end, unit) {\n  var index = start;\n  var offset = 0;\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n  return offset;\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'SingleNumber',\n  props: {\n    prefixCls: String,\n    value: String,\n    count: Number\n  },\n  setup: function setup(props) {\n    var originValue = computed(function () {\n      return Number(props.value);\n    });\n    var originCount = computed(function () {\n      return Math.abs(props.count);\n    });\n    var state = reactive({\n      prevValue: originValue.value,\n      prevCount: originCount.value\n    });\n    // ============================= Events =============================\n    var onTransitionEnd = function onTransitionEnd() {\n      state.prevValue = originValue.value;\n      state.prevCount = originCount.value;\n    };\n    var timeout = ref();\n    // Fallback if transition event not support\n    watch(originValue, function () {\n      clearTimeout(timeout.value);\n      timeout.value = setTimeout(function () {\n        onTransitionEnd();\n      }, 1000);\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      clearTimeout(timeout.value);\n    });\n    return function () {\n      var unitNodes;\n      var offsetStyle = {};\n      var value = originValue.value;\n      if (state.prevValue === value || Number.isNaN(value) || Number.isNaN(state.prevValue)) {\n        // Nothing to change\n        unitNodes = [UnitNumber(_objectSpread(_objectSpread({}, props), {}, {\n          current: true\n        }))];\n        offsetStyle = {\n          transition: 'none'\n        };\n      } else {\n        unitNodes = [];\n        // Fill basic number units\n        var end = value + 10;\n        var unitNumberList = [];\n        for (var index = value; index <= end; index += 1) {\n          unitNumberList.push(index);\n        }\n        // Fill with number unit nodes\n        var prevIndex = unitNumberList.findIndex(function (n) {\n          return n % 10 === state.prevValue;\n        });\n        unitNodes = unitNumberList.map(function (n, index) {\n          var singleUnit = n % 10;\n          return UnitNumber(_objectSpread(_objectSpread({}, props), {}, {\n            value: singleUnit,\n            offset: index - prevIndex,\n            current: index === prevIndex\n          }));\n        });\n        // Calculate container offset value\n        var unit = state.prevCount < originCount.value ? 1 : -1;\n        offsetStyle = {\n          transform: \"translateY(\".concat(-getOffset(state.prevValue, value, unit), \"00%)\")\n        };\n      }\n      return _createVNode(\"span\", {\n        \"class\": \"\".concat(props.prefixCls, \"-only\"),\n        \"style\": offsetStyle,\n        \"onTransitionend\": function onTransitionend() {\n          return onTransitionEnd();\n        }\n      }, [unitNodes]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}