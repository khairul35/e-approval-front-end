{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"];\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {\n      // style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\nvar List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose;\n    // ================================= MISC =================================\n    var useVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n    var sharedConfig = {\n      getKey: getKey\n    };\n    // ================================ Scroll ================================\n    function syncScrollTop(newTop) {\n      var value;\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n      var alignedTop = keepInRange(value);\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n      state.scrollTop = alignedTop;\n    }\n    // ================================ Height ================================\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n      _useHeights2 = _slicedToArray(_useHeights, 4),\n      setInstance = _useHeights2[0],\n      collectHeight = _useHeights2[1],\n      heights = _useHeights2[2],\n      updatedMark = _useHeights2[3];\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value;\n        offsetHeight.value = ((_fillerInnerRef$value = fillerInnerRef.value) === null || _fillerInnerRef$value === void 0 ? void 0 : _fillerInnerRef$value.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value2;\n        offsetHeight.value = ((_fillerInnerRef$value2 = fillerInnerRef.value) === null || _fillerInnerRef$value2 === void 0 ? void 0 : _fillerInnerRef$value2.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n        height = props.height;\n      var scrollTopHeight = scrollTop + height;\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n        var currentItemBottom = itemTop + cacheHeight;\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // Fallback to normal if not match. This code should never reach\n      /* istanbul ignore next */\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, dataLen);\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    });\n    // =============================== In Range ===============================\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n    // ================================ Scroll ================================\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    }\n    // When data size reduce. It may trigger native scroll event back to fit scroll position\n    function onFallbackScroll(e) {\n      var _props$onScroll;\n      var newScrollTop = e.currentTarget.scrollTop;\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      }\n      // Trigger origin onScroll\n      (_props$onScroll = props.onScroll) === null || _props$onScroll === void 0 ? void 0 : _props$onScroll.call(props, e);\n    }\n    // Since this added in global,should use ref to keep update\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n        syncScrollTop(function (top) {\n          var newTop = top + offsetY;\n          return newTop;\n        });\n      }),\n      _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n      onRawWheel = _useFrameWheel2[0],\n      onFireFoxScroll = _useFrameWheel2[1];\n    // Mobile touch move\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    });\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    });\n    // ================================= Ref ==================================\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _scrollBarRef$value;\n      (_scrollBarRef$value = scrollBarRef.value) === null || _scrollBarRef$value === void 0 ? void 0 : _scrollBarRef$value.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n      if (props.height) {\n        cs = _objectSpread(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n      return cs;\n    });\n    // ================================ Effect ================================\n    /** We need told outside that some list not rendered */\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var _this$$props$this$$at = _objectSpread(_objectSpread({}, this.$props), this.$attrs),\n      _this$$props$this$$at2 = _this$$props$this$$at.prefixCls,\n      prefixCls = _this$$props$this$$at2 === void 0 ? 'rc-virtual-list' : _this$$props$this$$at2,\n      height = _this$$props$this$$at.height,\n      itemHeight = _this$$props$this$$at.itemHeight,\n      fullHeight = _this$$props$this$$at.fullHeight,\n      data = _this$$props$this$$at.data,\n      itemKey = _this$$props$this$$at.itemKey,\n      virtual = _this$$props$this$$at.virtual,\n      _this$$props$this$$at3 = _this$$props$this$$at.component,\n      Component = _this$$props$this$$at3 === void 0 ? 'div' : _this$$props$this$$at3,\n      onScroll = _this$$props$this$$at.onScroll,\n      _this$$props$this$$at4 = _this$$props$this$$at.children,\n      children = _this$$props$this$$at4 === void 0 ? this.$slots.default : _this$$props$this$$at4,\n      style = _this$$props$this$$at.style,\n      className = _this$$props$this$$at.class,\n      restProps = _objectWithoutProperties(_this$$props$this$$at, _excluded);\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n      scrollHeight = _this$calRes.scrollHeight,\n      offset = _this$calRes.offset,\n      start = _this$calRes.start,\n      end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n      onFallbackScroll = this.onFallbackScroll,\n      onScrollBar = this.onScrollBar,\n      useVirtual = this.useVirtual,\n      collectHeight = this.collectHeight,\n      sharedConfig = this.sharedConfig,\n      setInstance = this.setInstance,\n      mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _objectSpread(_objectSpread({}, style), {}, {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_objectSpread","_extends","_slicedToArray","_excluded","resolveDirective","_resolveDirective","createVNode","_createVNode","shallowRef","toRaw","onMounted","onUpdated","ref","defineComponent","watchEffect","computed","nextTick","onBeforeUnmount","reactive","watch","Filler","Item","ScrollBar","useHeights","useScrollTo","useFrameWheel","useMobileTouchMove","useOriginScroll","PropTypes","classNames","supportsPassive","EMPTY_DATA","ScrollStyle","overflowY","overflowAnchor","renderChildren","list","startIndex","endIndex","setNodeRef","renderFunc","_ref","getKey","slice","map","item","index","eleIndex","node","key","setRef","ele","default","_default","List","compatConfig","MODE","name","inheritAttrs","props","prefixCls","String","data","array","height","Number","itemHeight","fullHeight","type","Boolean","undefined","itemKey","Function","required","component","Object","virtual","children","onScroll","onMousedown","onMouseenter","onVisibleChange","setup","_ref2","expose","useVirtual","inVirtual","value","length","state","scrollTop","scrollMoving","mergedData","immediate","_item","val","componentRef","fillerInnerRef","scrollBarRef","sharedConfig","syncScrollTop","newTop","alignedTop","keepInRange","_useHeights","_useHeights2","setInstance","collectHeight","heights","updatedMark","calRes","scrollHeight","start","end","offset","offsetHeight","_fillerInnerRef$value","_fillerInnerRef$value2","itemTop","startOffset","dataLen","scrollTopHeight","i","cacheHeight","get","currentItemBottom","Math","min","maxScrollHeight","newScrollTop","isNaN","max","isScrollAtTop","isScrollAtBottom","originScroll","onScrollBar","onFallbackScroll","e","_props$onScroll","currentTarget","abs","call","_useFrameWheel","offsetY","top","_useFrameWheel2","onRawWheel","onFireFoxScroll","deltaY","smoothOffset","preventDefault","onMozMousePixelScroll","removeEventListener","passive","addEventListener","scrollTo","_scrollBarRef$value","delayHidden","componentStyle","cs","pointerEvents","renderList","flush","render","_this","_this$$props$this$$at","$props","$attrs","_this$$props$this$$at2","_this$$props$this$$at3","Component","_this$$props$this$$at4","$slots","style","className","class","restProps","mergedClassName","_this$calRes","position","concat","onStartMove","onStopMove"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-virtual-list/List.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"];\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {\n      // style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\nvar List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose;\n    // ================================= MISC =================================\n    var useVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n    var sharedConfig = {\n      getKey: getKey\n    };\n    // ================================ Scroll ================================\n    function syncScrollTop(newTop) {\n      var value;\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n      var alignedTop = keepInRange(value);\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n      state.scrollTop = alignedTop;\n    }\n    // ================================ Height ================================\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n      _useHeights2 = _slicedToArray(_useHeights, 4),\n      setInstance = _useHeights2[0],\n      collectHeight = _useHeights2[1],\n      heights = _useHeights2[2],\n      updatedMark = _useHeights2[3];\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value;\n        offsetHeight.value = ((_fillerInnerRef$value = fillerInnerRef.value) === null || _fillerInnerRef$value === void 0 ? void 0 : _fillerInnerRef$value.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value2;\n        offsetHeight.value = ((_fillerInnerRef$value2 = fillerInnerRef.value) === null || _fillerInnerRef$value2 === void 0 ? void 0 : _fillerInnerRef$value2.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n        height = props.height;\n      var scrollTopHeight = scrollTop + height;\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n        var currentItemBottom = itemTop + cacheHeight;\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // Fallback to normal if not match. This code should never reach\n      /* istanbul ignore next */\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, dataLen);\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    });\n    // =============================== In Range ===============================\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n    // ================================ Scroll ================================\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    }\n    // When data size reduce. It may trigger native scroll event back to fit scroll position\n    function onFallbackScroll(e) {\n      var _props$onScroll;\n      var newScrollTop = e.currentTarget.scrollTop;\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      }\n      // Trigger origin onScroll\n      (_props$onScroll = props.onScroll) === null || _props$onScroll === void 0 ? void 0 : _props$onScroll.call(props, e);\n    }\n    // Since this added in global,should use ref to keep update\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n        syncScrollTop(function (top) {\n          var newTop = top + offsetY;\n          return newTop;\n        });\n      }),\n      _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n      onRawWheel = _useFrameWheel2[0],\n      onFireFoxScroll = _useFrameWheel2[1];\n    // Mobile touch move\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    });\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    });\n    // ================================= Ref ==================================\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _scrollBarRef$value;\n      (_scrollBarRef$value = scrollBarRef.value) === null || _scrollBarRef$value === void 0 ? void 0 : _scrollBarRef$value.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n      if (props.height) {\n        cs = _objectSpread(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n      return cs;\n    });\n    // ================================ Effect ================================\n    /** We need told outside that some list not rendered */\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var _this$$props$this$$at = _objectSpread(_objectSpread({}, this.$props), this.$attrs),\n      _this$$props$this$$at2 = _this$$props$this$$at.prefixCls,\n      prefixCls = _this$$props$this$$at2 === void 0 ? 'rc-virtual-list' : _this$$props$this$$at2,\n      height = _this$$props$this$$at.height,\n      itemHeight = _this$$props$this$$at.itemHeight,\n      fullHeight = _this$$props$this$$at.fullHeight,\n      data = _this$$props$this$$at.data,\n      itemKey = _this$$props$this$$at.itemKey,\n      virtual = _this$$props$this$$at.virtual,\n      _this$$props$this$$at3 = _this$$props$this$$at.component,\n      Component = _this$$props$this$$at3 === void 0 ? 'div' : _this$$props$this$$at3,\n      onScroll = _this$$props$this$$at.onScroll,\n      _this$$props$this$$at4 = _this$$props$this$$at.children,\n      children = _this$$props$this$$at4 === void 0 ? this.$slots.default : _this$$props$this$$at4,\n      style = _this$$props$this$$at.style,\n      className = _this$$props$this$$at.class,\n      restProps = _objectWithoutProperties(_this$$props$this$$at, _excluded);\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n      scrollHeight = _this$calRes.scrollHeight,\n      offset = _this$calRes.offset,\n      start = _this$calRes.start,\n      end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n      onFallbackScroll = this.onFallbackScroll,\n      onScrollBar = this.onScrollBar,\n      useVirtual = this.useVirtual,\n      collectHeight = this.collectHeight,\n      sharedConfig = this.sharedConfig,\n      setInstance = this.setInstance,\n      mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _objectSpread(_objectSpread({}, style), {}, {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}