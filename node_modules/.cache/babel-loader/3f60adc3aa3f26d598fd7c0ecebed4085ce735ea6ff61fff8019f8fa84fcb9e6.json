{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, ref } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  slots: ['notFoundContent', 'option'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _inject = inject(MentionsContextKey, {\n        activeIndex: ref(),\n        loading: ref(false)\n      }),\n      activeIndex = _inject.activeIndex,\n      setActiveIndex = _inject.setActiveIndex,\n      selectOption = _inject.selectOption,\n      _inject$onFocus = _inject.onFocus,\n      onFocus = _inject$onFocus === void 0 ? noop : _inject$onFocus,\n      loading = _inject.loading;\n    var timeoutId;\n    var onMousedown = function onMousedown(e) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(function () {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    return function () {\n      var _slots$notFoundConten;\n      var prefixCls = props.prefixCls,\n        options = props.options;\n      var activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": \"\".concat(prefixCls, \"-menu\"),\n        \"activeKey\": activeOption.value,\n        \"onSelect\": function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: function _default() {\n          return [!loading.value && options.map(function (option, index) {\n            var _slots$option, _slots$option2;\n            var value = option.value,\n              disabled = option.disabled,\n              _option$label = option.label,\n              label = _option$label === void 0 ? option.value : _option$label;\n            return _createVNode(MenuItem, {\n              \"key\": value,\n              \"disabled\": disabled,\n              \"onMouseenter\": function onMouseenter() {\n                setActiveIndex(index);\n              }\n            }, {\n              default: function _default() {\n                return [(_slots$option = (_slots$option2 = slots.option) === null || _slots$option2 === void 0 ? void 0 : _slots$option2.call(slots, option)) !== null && _slots$option !== void 0 ? _slots$option : typeof label === 'function' ? label({\n                  value: value,\n                  disabled: disabled\n                }) : label];\n              }\n            });\n          }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n            \"key\": \"notFoundContent\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [(_slots$notFoundConten = slots.notFoundContent) === null || _slots$notFoundConten === void 0 ? void 0 : _slots$notFoundConten.call(slots)];\n            }\n          }) : null, loading.value && _createVNode(MenuItem, {\n            \"key\": \"loading\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [_createVNode(Spin, {\n                \"size\": \"small\"\n              }, null)];\n            }\n          })];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","Menu","Item","MenuItem","onBeforeUnmount","defineComponent","inject","ref","MentionsContextKey","Spin","noop","compatConfig","MODE","name","props","prefixCls","String","options","type","Array","default","_default","slots","setup","_ref","_inject","activeIndex","loading","setActiveIndex","selectOption","_inject$onFocus","onFocus","timeoutId","onMousedown","e","clearTimeout","setTimeout","_slots$notFoundConten","activeOption","value","concat","onSelect","_ref2","key","option","find","_ref3","map","index","_slots$option","_slots$option2","disabled","_option$label","label","onMouseenter","call","length","notFoundContent"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-mentions/src/DropdownMenu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, ref } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  slots: ['notFoundContent', 'option'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _inject = inject(MentionsContextKey, {\n        activeIndex: ref(),\n        loading: ref(false)\n      }),\n      activeIndex = _inject.activeIndex,\n      setActiveIndex = _inject.setActiveIndex,\n      selectOption = _inject.selectOption,\n      _inject$onFocus = _inject.onFocus,\n      onFocus = _inject$onFocus === void 0 ? noop : _inject$onFocus,\n      loading = _inject.loading;\n    var timeoutId;\n    var onMousedown = function onMousedown(e) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(function () {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    return function () {\n      var _slots$notFoundConten;\n      var prefixCls = props.prefixCls,\n        options = props.options;\n      var activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": \"\".concat(prefixCls, \"-menu\"),\n        \"activeKey\": activeOption.value,\n        \"onSelect\": function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: function _default() {\n          return [!loading.value && options.map(function (option, index) {\n            var _slots$option, _slots$option2;\n            var value = option.value,\n              disabled = option.disabled,\n              _option$label = option.label,\n              label = _option$label === void 0 ? option.value : _option$label;\n            return _createVNode(MenuItem, {\n              \"key\": value,\n              \"disabled\": disabled,\n              \"onMouseenter\": function onMouseenter() {\n                setActiveIndex(index);\n              }\n            }, {\n              default: function _default() {\n                return [(_slots$option = (_slots$option2 = slots.option) === null || _slots$option2 === void 0 ? void 0 : _slots$option2.call(slots, option)) !== null && _slots$option !== void 0 ? _slots$option : typeof label === 'function' ? label({\n                  value: value,\n                  disabled: disabled\n                }) : label];\n              }\n            });\n          }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n            \"key\": \"notFoundContent\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [(_slots$notFoundConten = slots.notFoundContent) === null || _slots$notFoundConten === void 0 ? void 0 : _slots$notFoundConten.call(slots)];\n            }\n          }) : null, loading.value && _createVNode(MenuItem, {\n            \"key\": \"loading\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [_createVNode(Spin, {\n                \"size\": \"small\"\n              }, null)];\n            }\n          })];\n        }\n      });\n    };\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,QAAQ,KAAK;AACjD,OAAOC,IAAI,IAAIC,IAAI,IAAIC,QAAQ,QAAQ,YAAY;AACnD,SAASC,eAAe,EAAEC,eAAe,EAAEC,MAAM,EAAEC,GAAG,QAAQ,KAAK;AACnE,OAAOC,kBAAkB,MAAM,mBAAmB;AAClD,OAAOC,IAAI,MAAM,YAAY;AAC7B,SAASC,IAAIA,CAAA,EAAG,CAAC;AACjB,eAAeL,eAAe,CAAC;EAC7BM,YAAY,EAAE;IACZC,IAAI,EAAE;EACR,CAAC;EACDC,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,SAAS,EAAEC,MAAM;IACjBC,OAAO,EAAE;MACPC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAE,SAASC,QAAQA,CAAA,EAAG;QAC3B,OAAO,EAAE;MACX;IACF;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,iBAAiB,EAAE,QAAQ,CAAC;EACpCC,KAAK,EAAE,SAASA,KAAKA,CAACT,KAAK,EAAEU,IAAI,EAAE;IACjC,IAAIF,KAAK,GAAGE,IAAI,CAACF,KAAK;IACtB,IAAIG,OAAO,GAAGnB,MAAM,CAACE,kBAAkB,EAAE;QACrCkB,WAAW,EAAEnB,GAAG,EAAE;QAClBoB,OAAO,EAAEpB,GAAG,CAAC,KAAK;MACpB,CAAC,CAAC;MACFmB,WAAW,GAAGD,OAAO,CAACC,WAAW;MACjCE,cAAc,GAAGH,OAAO,CAACG,cAAc;MACvCC,YAAY,GAAGJ,OAAO,CAACI,YAAY;MACnCC,eAAe,GAAGL,OAAO,CAACM,OAAO;MACjCA,OAAO,GAAGD,eAAe,KAAK,KAAK,CAAC,GAAGpB,IAAI,GAAGoB,eAAe;MAC7DH,OAAO,GAAGF,OAAO,CAACE,OAAO;IAC3B,IAAIK,SAAS;IACb,IAAIC,WAAW,GAAG,SAASA,WAAWA,CAACC,CAAC,EAAE;MACxCC,YAAY,CAACH,SAAS,CAAC;MACvBA,SAAS,GAAGI,UAAU,CAAC,YAAY;QACjCL,OAAO,CAACG,CAAC,CAAC;MACZ,CAAC,CAAC;IACJ,CAAC;IACD9B,eAAe,CAAC,YAAY;MAC1B+B,YAAY,CAACH,SAAS,CAAC;IACzB,CAAC,CAAC;IACF,OAAO,YAAY;MACjB,IAAIK,qBAAqB;MACzB,IAAItB,SAAS,GAAGD,KAAK,CAACC,SAAS;QAC7BE,OAAO,GAAGH,KAAK,CAACG,OAAO;MACzB,IAAIqB,YAAY,GAAGrB,OAAO,CAACS,WAAW,CAACa,KAAK,CAAC,IAAI,CAAC,CAAC;MACnD,OAAOvC,YAAY,CAACC,IAAI,EAAE;QACxB,WAAW,EAAE,EAAE,CAACuC,MAAM,CAACzB,SAAS,EAAE,OAAO,CAAC;QAC1C,WAAW,EAAEuB,YAAY,CAACC,KAAK;QAC/B,UAAU,EAAE,SAASE,QAAQA,CAACC,KAAK,EAAE;UACnC,IAAIC,GAAG,GAAGD,KAAK,CAACC,GAAG;UACnB,IAAIC,MAAM,GAAG3B,OAAO,CAAC4B,IAAI,CAAC,UAAUC,KAAK,EAAE;YACzC,IAAIP,KAAK,GAAGO,KAAK,CAACP,KAAK;YACvB,OAAOA,KAAK,KAAKI,GAAG;UACtB,CAAC,CAAC;UACFd,YAAY,CAACe,MAAM,CAAC;QACtB,CAAC;QACD,aAAa,EAAEX;MACjB,CAAC,EAAE;QACDb,OAAO,EAAE,SAASC,QAAQA,CAAA,EAAG;UAC3B,OAAO,CAAC,CAACM,OAAO,CAACY,KAAK,IAAItB,OAAO,CAAC8B,GAAG,CAAC,UAAUH,MAAM,EAAEI,KAAK,EAAE;YAC7D,IAAIC,aAAa,EAAEC,cAAc;YACjC,IAAIX,KAAK,GAAGK,MAAM,CAACL,KAAK;cACtBY,QAAQ,GAAGP,MAAM,CAACO,QAAQ;cAC1BC,aAAa,GAAGR,MAAM,CAACS,KAAK;cAC5BA,KAAK,GAAGD,aAAa,KAAK,KAAK,CAAC,GAAGR,MAAM,CAACL,KAAK,GAAGa,aAAa;YACjE,OAAOpD,YAAY,CAACG,QAAQ,EAAE;cAC5B,KAAK,EAAEoC,KAAK;cACZ,UAAU,EAAEY,QAAQ;cACpB,cAAc,EAAE,SAASG,YAAYA,CAAA,EAAG;gBACtC1B,cAAc,CAACoB,KAAK,CAAC;cACvB;YACF,CAAC,EAAE;cACD5B,OAAO,EAAE,SAASC,QAAQA,CAAA,EAAG;gBAC3B,OAAO,CAAC,CAAC4B,aAAa,GAAG,CAACC,cAAc,GAAG5B,KAAK,CAACsB,MAAM,MAAM,IAAI,IAAIM,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACK,IAAI,CAACjC,KAAK,EAAEsB,MAAM,CAAC,MAAM,IAAI,IAAIK,aAAa,KAAK,KAAK,CAAC,GAAGA,aAAa,GAAG,OAAOI,KAAK,KAAK,UAAU,GAAGA,KAAK,CAAC;kBACvOd,KAAK,EAAEA,KAAK;kBACZY,QAAQ,EAAEA;gBACZ,CAAC,CAAC,GAAGE,KAAK,CAAC;cACb;YACF,CAAC,CAAC;UACJ,CAAC,CAAC,EAAE,CAAC1B,OAAO,CAACY,KAAK,IAAItB,OAAO,CAACuC,MAAM,KAAK,CAAC,GAAGxD,YAAY,CAACG,QAAQ,EAAE;YAClE,KAAK,EAAE,iBAAiB;YACxB,UAAU,EAAE;UACd,CAAC,EAAE;YACDiB,OAAO,EAAE,SAASC,QAAQA,CAAA,EAAG;cAC3B,OAAO,CAAC,CAACgB,qBAAqB,GAAGf,KAAK,CAACmC,eAAe,MAAM,IAAI,IAAIpB,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACkB,IAAI,CAACjC,KAAK,CAAC,CAAC;YACpJ;UACF,CAAC,CAAC,GAAG,IAAI,EAAEK,OAAO,CAACY,KAAK,IAAIvC,YAAY,CAACG,QAAQ,EAAE;YACjD,KAAK,EAAE,SAAS;YAChB,UAAU,EAAE;UACd,CAAC,EAAE;YACDiB,OAAO,EAAE,SAASC,QAAQA,CAAA,EAAG;cAC3B,OAAO,CAACrB,YAAY,CAACS,IAAI,EAAE;gBACzB,MAAM,EAAE;cACV,CAAC,EAAE,IAAI,CAAC,CAAC;YACX;UACF,CAAC,CAAC,CAAC;QACL;MACF,CAAC,CAAC;IACJ,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}