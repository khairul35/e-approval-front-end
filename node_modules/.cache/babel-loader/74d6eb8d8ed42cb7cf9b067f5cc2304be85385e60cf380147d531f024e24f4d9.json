{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport ExpandedRow from './ExpandedRow';\nimport { getColumnsKey } from '../utils/valueUtil';\nimport MeasureCell from './MeasureCell';\nimport BodyRow from './BodyRow';\nimport useFlattenRecords from '../hooks/useFlattenRecords';\nimport { defineComponent, ref, toRef } from 'vue';\nimport { useInjectResize } from '../context/ResizeContext';\nimport { useInjectTable } from '../context/TableContext';\nimport { useInjectBody } from '../context/BodyContext';\nimport { useProvideHover } from '../context/HoverContext';\nexport default defineComponent({\n  name: 'Body',\n  props: ['data', 'getRowKey', 'measureColumnWidth', 'expandedKeys', 'customRow', 'rowExpandable', 'childrenColumnName'],\n  slots: ['emptyNode'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var resizeContext = useInjectResize();\n    var tableContext = useInjectTable();\n    var bodyContext = useInjectBody();\n    var flattenData = useFlattenRecords(toRef(props, 'data'), toRef(props, 'childrenColumnName'), toRef(props, 'expandedKeys'), toRef(props, 'getRowKey'));\n    var startRow = ref(-1);\n    var endRow = ref(-1);\n    var timeoutId;\n    useProvideHover({\n      startRow: startRow,\n      endRow: endRow,\n      onHover: function onHover(start, end) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(function () {\n          startRow.value = start;\n          endRow.value = end;\n        }, 100);\n      }\n    });\n    return function () {\n      var data = props.data,\n        getRowKey = props.getRowKey,\n        measureColumnWidth = props.measureColumnWidth,\n        expandedKeys = props.expandedKeys,\n        customRow = props.customRow,\n        rowExpandable = props.rowExpandable,\n        childrenColumnName = props.childrenColumnName;\n      var onColumnResize = resizeContext.onColumnResize;\n      var prefixCls = tableContext.prefixCls,\n        getComponent = tableContext.getComponent;\n      var flattenColumns = bodyContext.flattenColumns;\n      var WrapperComponent = getComponent(['body', 'wrapper'], 'tbody');\n      var trComponent = getComponent(['body', 'row'], 'tr');\n      var tdComponent = getComponent(['body', 'cell'], 'td');\n      var rows;\n      if (data.length) {\n        rows = flattenData.value.map(function (item, idx) {\n          var record = item.record,\n            indent = item.indent,\n            renderIndex = item.index;\n          var key = getRowKey(record, idx);\n          return _createVNode(BodyRow, {\n            \"key\": key,\n            \"rowKey\": key,\n            \"record\": record,\n            \"recordKey\": key,\n            \"index\": idx,\n            \"renderIndex\": renderIndex,\n            \"rowComponent\": trComponent,\n            \"cellComponent\": tdComponent,\n            \"expandedKeys\": expandedKeys,\n            \"customRow\": customRow,\n            \"getRowKey\": getRowKey,\n            \"rowExpandable\": rowExpandable,\n            \"childrenColumnName\": childrenColumnName,\n            \"indent\": indent\n          }, null);\n        });\n      } else {\n        var _slots$emptyNode;\n        rows = _createVNode(ExpandedRow, {\n          \"expanded\": true,\n          \"class\": \"\".concat(prefixCls, \"-placeholder\"),\n          \"prefixCls\": prefixCls,\n          \"component\": trComponent,\n          \"cellComponent\": tdComponent,\n          \"colSpan\": flattenColumns.length,\n          \"isEmpty\": true\n        }, {\n          default: function _default() {\n            return [(_slots$emptyNode = slots.emptyNode) === null || _slots$emptyNode === void 0 ? void 0 : _slots$emptyNode.call(slots)];\n          }\n        });\n      }\n      var columnsKey = getColumnsKey(flattenColumns);\n      return _createVNode(WrapperComponent, {\n        \"class\": \"\".concat(prefixCls, \"-tbody\")\n      }, {\n        default: function _default() {\n          return [measureColumnWidth && _createVNode(\"tr\", {\n            \"aria-hidden\": \"true\",\n            \"class\": \"\".concat(prefixCls, \"-measure-row\"),\n            \"style\": {\n              height: 0,\n              fontSize: 0\n            }\n          }, [columnsKey.map(function (columnKey) {\n            return _createVNode(MeasureCell, {\n              \"key\": columnKey,\n              \"columnKey\": columnKey,\n              \"onColumnResize\": onColumnResize\n            }, null);\n          })]), rows];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","ExpandedRow","getColumnsKey","MeasureCell","BodyRow","useFlattenRecords","defineComponent","ref","toRef","useInjectResize","useInjectTable","useInjectBody","useProvideHover","name","props","slots","setup","_ref","resizeContext","tableContext","bodyContext","flattenData","startRow","endRow","timeoutId","onHover","start","end","clearTimeout","setTimeout","value","data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName","onColumnResize","prefixCls","getComponent","flattenColumns","WrapperComponent","trComponent","tdComponent","rows","length","map","item","idx","record","indent","renderIndex","index","key","_slots$emptyNode","concat","default","_default","emptyNode","call","columnsKey","height","fontSize","columnKey"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-table/Body/index.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport ExpandedRow from './ExpandedRow';\nimport { getColumnsKey } from '../utils/valueUtil';\nimport MeasureCell from './MeasureCell';\nimport BodyRow from './BodyRow';\nimport useFlattenRecords from '../hooks/useFlattenRecords';\nimport { defineComponent, ref, toRef } from 'vue';\nimport { useInjectResize } from '../context/ResizeContext';\nimport { useInjectTable } from '../context/TableContext';\nimport { useInjectBody } from '../context/BodyContext';\nimport { useProvideHover } from '../context/HoverContext';\nexport default defineComponent({\n  name: 'Body',\n  props: ['data', 'getRowKey', 'measureColumnWidth', 'expandedKeys', 'customRow', 'rowExpandable', 'childrenColumnName'],\n  slots: ['emptyNode'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var resizeContext = useInjectResize();\n    var tableContext = useInjectTable();\n    var bodyContext = useInjectBody();\n    var flattenData = useFlattenRecords(toRef(props, 'data'), toRef(props, 'childrenColumnName'), toRef(props, 'expandedKeys'), toRef(props, 'getRowKey'));\n    var startRow = ref(-1);\n    var endRow = ref(-1);\n    var timeoutId;\n    useProvideHover({\n      startRow: startRow,\n      endRow: endRow,\n      onHover: function onHover(start, end) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(function () {\n          startRow.value = start;\n          endRow.value = end;\n        }, 100);\n      }\n    });\n    return function () {\n      var data = props.data,\n        getRowKey = props.getRowKey,\n        measureColumnWidth = props.measureColumnWidth,\n        expandedKeys = props.expandedKeys,\n        customRow = props.customRow,\n        rowExpandable = props.rowExpandable,\n        childrenColumnName = props.childrenColumnName;\n      var onColumnResize = resizeContext.onColumnResize;\n      var prefixCls = tableContext.prefixCls,\n        getComponent = tableContext.getComponent;\n      var flattenColumns = bodyContext.flattenColumns;\n      var WrapperComponent = getComponent(['body', 'wrapper'], 'tbody');\n      var trComponent = getComponent(['body', 'row'], 'tr');\n      var tdComponent = getComponent(['body', 'cell'], 'td');\n      var rows;\n      if (data.length) {\n        rows = flattenData.value.map(function (item, idx) {\n          var record = item.record,\n            indent = item.indent,\n            renderIndex = item.index;\n          var key = getRowKey(record, idx);\n          return _createVNode(BodyRow, {\n            \"key\": key,\n            \"rowKey\": key,\n            \"record\": record,\n            \"recordKey\": key,\n            \"index\": idx,\n            \"renderIndex\": renderIndex,\n            \"rowComponent\": trComponent,\n            \"cellComponent\": tdComponent,\n            \"expandedKeys\": expandedKeys,\n            \"customRow\": customRow,\n            \"getRowKey\": getRowKey,\n            \"rowExpandable\": rowExpandable,\n            \"childrenColumnName\": childrenColumnName,\n            \"indent\": indent\n          }, null);\n        });\n      } else {\n        var _slots$emptyNode;\n        rows = _createVNode(ExpandedRow, {\n          \"expanded\": true,\n          \"class\": \"\".concat(prefixCls, \"-placeholder\"),\n          \"prefixCls\": prefixCls,\n          \"component\": trComponent,\n          \"cellComponent\": tdComponent,\n          \"colSpan\": flattenColumns.length,\n          \"isEmpty\": true\n        }, {\n          default: function _default() {\n            return [(_slots$emptyNode = slots.emptyNode) === null || _slots$emptyNode === void 0 ? void 0 : _slots$emptyNode.call(slots)];\n          }\n        });\n      }\n      var columnsKey = getColumnsKey(flattenColumns);\n      return _createVNode(WrapperComponent, {\n        \"class\": \"\".concat(prefixCls, \"-tbody\")\n      }, {\n        default: function _default() {\n          return [measureColumnWidth && _createVNode(\"tr\", {\n            \"aria-hidden\": \"true\",\n            \"class\": \"\".concat(prefixCls, \"-measure-row\"),\n            \"style\": {\n              height: 0,\n              fontSize: 0\n            }\n          }, [columnsKey.map(function (columnKey) {\n            return _createVNode(MeasureCell, {\n              \"key\": columnKey,\n              \"columnKey\": columnKey,\n              \"onColumnResize\": onColumnResize\n            }, null);\n          })]), rows];\n        }\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}