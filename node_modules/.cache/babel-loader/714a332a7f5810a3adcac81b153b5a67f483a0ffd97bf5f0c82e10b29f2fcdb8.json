{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { onBeforeUnmount, defineComponent, ref, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport var tabNavListProps = function tabNavListProps() {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: {\n      type: Object,\n      default: undefined\n    },\n    editable: {\n      type: Object\n    },\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: {\n      type: Object,\n      default: undefined\n    },\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: ['moreIcon', 'leftExtra', 'rightExtra', 'tabBarExtraContent'],\n  emits: ['tabClick', 'tabScroll'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var _useInjectTabs = useInjectTabs(),\n      tabs = _useInjectTabs.tabs,\n      prefixCls = _useInjectTabs.prefixCls;\n    var tabsWrapperRef = ref();\n    var tabListRef = ref();\n    var operationsRef = ref();\n    var innerAddButtonRef = ref();\n    var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      setRef = _useRefs2[0],\n      btnRefs = _useRefs2[1];\n    var tabPositionTopOrBottom = computed(function () {\n      return props.tabPosition === 'top' || props.tabPosition === 'bottom';\n    });\n    var _useSyncState = useSyncState(0, function (next, prev) {\n        if (tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'left' : 'right'\n          });\n        }\n      }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n    var _useSyncState3 = useSyncState(0, function (next, prev) {\n        if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'top' : 'bottom'\n          });\n        }\n      }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n    var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperWidth = _useState6[0],\n      setWrapperWidth = _useState6[1];\n    var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperHeight = _useState8[0],\n      setWrapperHeight = _useState8[1];\n    var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addWidth = _useState10[0],\n      setAddWidth = _useState10[1];\n    var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      addHeight = _useState12[0],\n      setAddHeight = _useState12[1];\n    var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n    var tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    var operationsHiddenClassName = computed(function () {\n      return \"\".concat(prefixCls.value, \"-nav-operations-hidden\");\n    });\n    var transformMin = ref(0);\n    var transformMax = ref(0);\n    watchEffect(function () {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    var alignInRange = function alignInRange(value) {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    var touchMovingRef = ref();\n    var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lockAnimation = _useState14[0],\n      setLockAnimation = _useState14[1];\n    var doLockAnimation = function doLockAnimation() {\n      setLockAnimation(Date.now());\n    };\n    var clearTouchMoving = function clearTouchMoving() {\n      clearTimeout(touchMovingRef.value);\n    };\n    var doMove = function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, function () {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(function () {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    var scrollToTab = function scrollToTab() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      var tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        var newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        var _newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          _newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(_newTransform));\n      }\n    };\n    var visibleStart = ref(0);\n    var visibleEnd = ref(0);\n    watchEffect(function () {\n      var _ref3;\n      var unit;\n      var position;\n      var transformSize;\n      var basicSize;\n      var tabContentSize;\n      var addSize;\n      var tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      var mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      var tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        var _ref2;\n        return _ref2 = [0, 0], visibleStart.value = _ref2[0], visibleEnd.value = _ref2[1], _ref2;\n      }\n      var len = tabsVal.length;\n      var endIndex = len;\n      for (var i = 0; i < len; i += 1) {\n        var offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      var startIndex = 0;\n      for (var _i = len - 1; _i >= 0; _i -= 1) {\n        var _offset = tabOffsetsValue.get(tabsVal[_i].key) || DEFAULT_SIZE;\n        if (_offset[position] < transformSize) {\n          startIndex = _i + 1;\n          break;\n        }\n      }\n      return _ref3 = [startIndex, endIndex], visibleStart.value = _ref3[0], visibleEnd.value = _ref3[1], _ref3;\n    });\n    var onListHolderResize = function onListHolderResize() {\n      var _tabsWrapperRef$value, _tabsWrapperRef$value2, _innerAddButtonRef$va, _tabListRef$value, _tabListRef$value2;\n      // Update wrapper records\n      var offsetWidth = ((_tabsWrapperRef$value = tabsWrapperRef.value) === null || _tabsWrapperRef$value === void 0 ? void 0 : _tabsWrapperRef$value.offsetWidth) || 0;\n      var offsetHeight = ((_tabsWrapperRef$value2 = tabsWrapperRef.value) === null || _tabsWrapperRef$value2 === void 0 ? void 0 : _tabsWrapperRef$value2.offsetHeight) || 0;\n      var addDom = ((_innerAddButtonRef$va = innerAddButtonRef.value) === null || _innerAddButtonRef$va === void 0 ? void 0 : _innerAddButtonRef$va.$el) || {};\n      var newAddWidth = addDom.offsetWidth || 0;\n      var newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      var newWrapperScrollWidth = (((_tabListRef$value = tabListRef.value) === null || _tabListRef$value === void 0 ? void 0 : _tabListRef$value.offsetWidth) || 0) - newAddWidth;\n      var newWrapperScrollHeight = (((_tabListRef$value2 = tabListRef.value) === null || _tabListRef$value2 === void 0 ? void 0 : _tabListRef$value2.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(function () {\n        var newSizes = new Map();\n        tabs.value.forEach(function (_ref4) {\n          var key = _ref4.key;\n          var btnRef = btnRefs.value.get(key);\n          var btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    var hiddenTabs = computed(function () {\n      return [].concat(_toConsumableArray(tabs.value.slice(0, visibleStart.value)), _toConsumableArray(tabs.value.slice(visibleEnd.value + 1)));\n    });\n    // =================== Link & Operations ===================\n    var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      inkStyle = _useState16[0],\n      setInkStyle = _useState16[1];\n    var activeTabOffset = computed(function () {\n      return tabOffsets.value.get(props.activeKey);\n    });\n    // Delay set ink style to avoid remove tab blink\n    var inkBarRafRef = ref();\n    var cleanInkBarRaf = function cleanInkBarRaf() {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, function () {\n      return props.rtl;\n    }], function () {\n      var newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(function () {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([function () {\n      return props.activeKey;\n    }, activeTabOffset, tabOffsets, tabPositionTopOrBottom], function () {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([function () {\n      return props.rtl;\n    }, function () {\n      return props.tabBarGutter;\n    }, function () {\n      return props.activeKey;\n    }, function () {\n      return tabs.value;\n    }], function () {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    var ExtraContent = function ExtraContent(_ref5) {\n      var position = _ref5.position,\n        prefixCls = _ref5.prefixCls,\n        extra = _ref5.extra;\n      if (!extra) return null;\n      var content = extra === null || extra === void 0 ? void 0 : extra({\n        position: position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-extra-content\")\n      }, [content]) : null;\n    };\n    onBeforeUnmount(function () {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return function () {\n      var _classNames;\n      var id = props.id,\n        animated = props.animated,\n        activeKey = props.activeKey,\n        rtl = props.rtl,\n        editable = props.editable,\n        locale = props.locale,\n        tabPosition = props.tabPosition,\n        tabBarGutter = props.tabBarGutter,\n        onTabClick = props.onTabClick;\n      var className = attrs.class,\n        style = attrs.style;\n      var pre = prefixCls.value;\n      // ========================= Render ========================\n      var hasDropdown = !!hiddenTabs.value.length;\n      var wrapPrefix = \"\".concat(pre, \"-nav-wrap\");\n      var pingLeft;\n      var pingRight;\n      var pingTop;\n      var pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      var tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      }\n      var tabNodes = tabs.value.map(function (tab, i) {\n        var key = tab.key;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": function onClick(e) {\n            onTabClick(key, e);\n          },\n          \"onFocus\": function onFocus() {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(\"\".concat(pre, \"-nav\"), className),\n        \"style\": style,\n        \"onKeydown\": function onKeydown() {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n            \"ref\": tabsWrapperRef\n          }, [_createVNode(ResizeObserver, {\n            \"onResize\": onListHolderResize\n          }, {\n            default: function _default() {\n              return [_createVNode(\"div\", {\n                \"ref\": tabListRef,\n                \"class\": \"\".concat(pre, \"-nav-list\"),\n                \"style\": {\n                  transform: \"translate(\".concat(transformLeft.value, \"px, \").concat(transformTop.value, \"px)\"),\n                  transition: lockAnimation.value ? 'none' : undefined\n                }\n              }, [tabNodes, _createVNode(AddButton, {\n                \"ref\": innerAddButtonRef,\n                \"prefixCls\": pre,\n                \"locale\": locale,\n                \"editable\": editable,\n                \"style\": _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n                  visibility: hasDropdown ? 'hidden' : null\n                })\n              }, null), _createVNode(\"div\", {\n                \"class\": classNames(\"\".concat(pre, \"-ink-bar\"), _defineProperty({}, \"\".concat(pre, \"-ink-bar-animated\"), animated.inkBar)),\n                \"style\": inkStyle.value\n              }, null)])];\n            }\n          })])];\n        }\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_defineProperty","_toConsumableArray","_slicedToArray","resolveDirective","_resolveDirective","createVNode","_createVNode","useRafState","TabNode","useOffsets","OperationNode","useInjectTabs","useTouchMove","AddButton","onBeforeUnmount","defineComponent","ref","watch","watchEffect","computed","PropTypes","useSyncState","useState","raf","classNames","ResizeObserver","toPx","useRefs","pick","DEFAULT_SIZE","width","height","left","top","right","tabNavListProps","id","type","String","tabPosition","activeKey","Number","rtl","Boolean","animated","Object","default","undefined","editable","moreIcon","any","moreTransitionName","mobile","tabBarGutter","renderTabBar","Function","locale","onTabClick","onTabScroll","compatConfig","MODE","name","inheritAttrs","props","slots","emits","setup","_ref","attrs","_useInjectTabs","tabs","prefixCls","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useRefs","_useRefs2","setRef","btnRefs","tabPositionTopOrBottom","_useSyncState","next","prev","value","direction","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","_useState","_useState2","wrapperScrollWidth","setWrapperScrollWidth","_useState3","_useState4","wrapperScrollHeight","setWrapperScrollHeight","_useState5","_useState6","wrapperWidth","setWrapperWidth","_useState7","_useState8","wrapperHeight","setWrapperHeight","_useState9","_useState10","addWidth","setAddWidth","_useState11","_useState12","addHeight","setAddHeight","_useRafState","Map","_useRafState2","tabSizes","setTabSizes","tabOffsets","operationsHiddenClassName","concat","transformMin","transformMax","Math","min","max","alignInRange","touchMovingRef","_useState13","_useState14","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","clearTimeout","doMove","setState","offset","newValue","offsetX","offsetY","setTimeout","scrollToTab","key","arguments","length","tabOffset","get","newTransform","_newTransform","visibleStart","visibleEnd","_ref3","unit","position","transformSize","basicSize","tabContentSize","addSize","tabOffsetsValue","includes","abs","mergedBasicSize","tabsVal","_ref2","len","endIndex","i","startIndex","_i","_offset","onListHolderResize","_tabsWrapperRef$value","_tabsWrapperRef$value2","_innerAddButtonRef$va","_tabListRef$value","_tabListRef$value2","offsetWidth","offsetHeight","addDom","$el","newAddWidth","newAddHeight","newWrapperScrollWidth","newWrapperScrollHeight","newSizes","forEach","_ref4","btnRef","btnNode","set","offsetLeft","offsetTop","hiddenTabs","slice","_useState15","_useState16","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","cancel","newInkStyle","flush","ExtraContent","_ref5","extra","content","_classNames","className","class","style","pre","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","tabNodeStyle","marginTop","tabNodes","map","tab","closable","removeAriaLabel","onClick","e","onFocus","scrollLeft","scrollTop","onKeydown","leftExtra","_default","transform","transition","visibility","inkBar","rightExtra","tabBarExtraContent"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/tabs/src/TabNavList/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { onBeforeUnmount, defineComponent, ref, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport var tabNavListProps = function tabNavListProps() {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: {\n      type: Object,\n      default: undefined\n    },\n    editable: {\n      type: Object\n    },\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: {\n      type: Object,\n      default: undefined\n    },\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: ['moreIcon', 'leftExtra', 'rightExtra', 'tabBarExtraContent'],\n  emits: ['tabClick', 'tabScroll'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var _useInjectTabs = useInjectTabs(),\n      tabs = _useInjectTabs.tabs,\n      prefixCls = _useInjectTabs.prefixCls;\n    var tabsWrapperRef = ref();\n    var tabListRef = ref();\n    var operationsRef = ref();\n    var innerAddButtonRef = ref();\n    var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      setRef = _useRefs2[0],\n      btnRefs = _useRefs2[1];\n    var tabPositionTopOrBottom = computed(function () {\n      return props.tabPosition === 'top' || props.tabPosition === 'bottom';\n    });\n    var _useSyncState = useSyncState(0, function (next, prev) {\n        if (tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'left' : 'right'\n          });\n        }\n      }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n    var _useSyncState3 = useSyncState(0, function (next, prev) {\n        if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'top' : 'bottom'\n          });\n        }\n      }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n    var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperWidth = _useState6[0],\n      setWrapperWidth = _useState6[1];\n    var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperHeight = _useState8[0],\n      setWrapperHeight = _useState8[1];\n    var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addWidth = _useState10[0],\n      setAddWidth = _useState10[1];\n    var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      addHeight = _useState12[0],\n      setAddHeight = _useState12[1];\n    var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n    var tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    var operationsHiddenClassName = computed(function () {\n      return \"\".concat(prefixCls.value, \"-nav-operations-hidden\");\n    });\n    var transformMin = ref(0);\n    var transformMax = ref(0);\n    watchEffect(function () {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    var alignInRange = function alignInRange(value) {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    var touchMovingRef = ref();\n    var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lockAnimation = _useState14[0],\n      setLockAnimation = _useState14[1];\n    var doLockAnimation = function doLockAnimation() {\n      setLockAnimation(Date.now());\n    };\n    var clearTouchMoving = function clearTouchMoving() {\n      clearTimeout(touchMovingRef.value);\n    };\n    var doMove = function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, function () {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(function () {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    var scrollToTab = function scrollToTab() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      var tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        var newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        var _newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          _newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(_newTransform));\n      }\n    };\n    var visibleStart = ref(0);\n    var visibleEnd = ref(0);\n    watchEffect(function () {\n      var _ref3;\n      var unit;\n      var position;\n      var transformSize;\n      var basicSize;\n      var tabContentSize;\n      var addSize;\n      var tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      var mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      var tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        var _ref2;\n        return _ref2 = [0, 0], visibleStart.value = _ref2[0], visibleEnd.value = _ref2[1], _ref2;\n      }\n      var len = tabsVal.length;\n      var endIndex = len;\n      for (var i = 0; i < len; i += 1) {\n        var offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      var startIndex = 0;\n      for (var _i = len - 1; _i >= 0; _i -= 1) {\n        var _offset = tabOffsetsValue.get(tabsVal[_i].key) || DEFAULT_SIZE;\n        if (_offset[position] < transformSize) {\n          startIndex = _i + 1;\n          break;\n        }\n      }\n      return _ref3 = [startIndex, endIndex], visibleStart.value = _ref3[0], visibleEnd.value = _ref3[1], _ref3;\n    });\n    var onListHolderResize = function onListHolderResize() {\n      var _tabsWrapperRef$value, _tabsWrapperRef$value2, _innerAddButtonRef$va, _tabListRef$value, _tabListRef$value2;\n      // Update wrapper records\n      var offsetWidth = ((_tabsWrapperRef$value = tabsWrapperRef.value) === null || _tabsWrapperRef$value === void 0 ? void 0 : _tabsWrapperRef$value.offsetWidth) || 0;\n      var offsetHeight = ((_tabsWrapperRef$value2 = tabsWrapperRef.value) === null || _tabsWrapperRef$value2 === void 0 ? void 0 : _tabsWrapperRef$value2.offsetHeight) || 0;\n      var addDom = ((_innerAddButtonRef$va = innerAddButtonRef.value) === null || _innerAddButtonRef$va === void 0 ? void 0 : _innerAddButtonRef$va.$el) || {};\n      var newAddWidth = addDom.offsetWidth || 0;\n      var newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      var newWrapperScrollWidth = (((_tabListRef$value = tabListRef.value) === null || _tabListRef$value === void 0 ? void 0 : _tabListRef$value.offsetWidth) || 0) - newAddWidth;\n      var newWrapperScrollHeight = (((_tabListRef$value2 = tabListRef.value) === null || _tabListRef$value2 === void 0 ? void 0 : _tabListRef$value2.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(function () {\n        var newSizes = new Map();\n        tabs.value.forEach(function (_ref4) {\n          var key = _ref4.key;\n          var btnRef = btnRefs.value.get(key);\n          var btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    var hiddenTabs = computed(function () {\n      return [].concat(_toConsumableArray(tabs.value.slice(0, visibleStart.value)), _toConsumableArray(tabs.value.slice(visibleEnd.value + 1)));\n    });\n    // =================== Link & Operations ===================\n    var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      inkStyle = _useState16[0],\n      setInkStyle = _useState16[1];\n    var activeTabOffset = computed(function () {\n      return tabOffsets.value.get(props.activeKey);\n    });\n    // Delay set ink style to avoid remove tab blink\n    var inkBarRafRef = ref();\n    var cleanInkBarRaf = function cleanInkBarRaf() {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, function () {\n      return props.rtl;\n    }], function () {\n      var newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(function () {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([function () {\n      return props.activeKey;\n    }, activeTabOffset, tabOffsets, tabPositionTopOrBottom], function () {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([function () {\n      return props.rtl;\n    }, function () {\n      return props.tabBarGutter;\n    }, function () {\n      return props.activeKey;\n    }, function () {\n      return tabs.value;\n    }], function () {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    var ExtraContent = function ExtraContent(_ref5) {\n      var position = _ref5.position,\n        prefixCls = _ref5.prefixCls,\n        extra = _ref5.extra;\n      if (!extra) return null;\n      var content = extra === null || extra === void 0 ? void 0 : extra({\n        position: position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-extra-content\")\n      }, [content]) : null;\n    };\n    onBeforeUnmount(function () {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return function () {\n      var _classNames;\n      var id = props.id,\n        animated = props.animated,\n        activeKey = props.activeKey,\n        rtl = props.rtl,\n        editable = props.editable,\n        locale = props.locale,\n        tabPosition = props.tabPosition,\n        tabBarGutter = props.tabBarGutter,\n        onTabClick = props.onTabClick;\n      var className = attrs.class,\n        style = attrs.style;\n      var pre = prefixCls.value;\n      // ========================= Render ========================\n      var hasDropdown = !!hiddenTabs.value.length;\n      var wrapPrefix = \"\".concat(pre, \"-nav-wrap\");\n      var pingLeft;\n      var pingRight;\n      var pingTop;\n      var pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      var tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      }\n      var tabNodes = tabs.value.map(function (tab, i) {\n        var key = tab.key;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": function onClick(e) {\n            onTabClick(key, e);\n          },\n          \"onFocus\": function onFocus() {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(\"\".concat(pre, \"-nav\"), className),\n        \"style\": style,\n        \"onKeydown\": function onKeydown() {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n            \"ref\": tabsWrapperRef\n          }, [_createVNode(ResizeObserver, {\n            \"onResize\": onListHolderResize\n          }, {\n            default: function _default() {\n              return [_createVNode(\"div\", {\n                \"ref\": tabListRef,\n                \"class\": \"\".concat(pre, \"-nav-list\"),\n                \"style\": {\n                  transform: \"translate(\".concat(transformLeft.value, \"px, \").concat(transformTop.value, \"px)\"),\n                  transition: lockAnimation.value ? 'none' : undefined\n                }\n              }, [tabNodes, _createVNode(AddButton, {\n                \"ref\": innerAddButtonRef,\n                \"prefixCls\": pre,\n                \"locale\": locale,\n                \"editable\": editable,\n                \"style\": _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n                  visibility: hasDropdown ? 'hidden' : null\n                })\n              }, null), _createVNode(\"div\", {\n                \"class\": classNames(\"\".concat(pre, \"-ink-bar\"), _defineProperty({}, \"\".concat(pre, \"-ink-bar-animated\"), animated.inkBar)),\n                \"style\": inkStyle.value\n              }, null)])];\n            }\n          })])];\n        }\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}