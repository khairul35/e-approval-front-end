{"ast":null,"code":"import { watch, ref } from 'vue';\nexport default function useHeights(mergedData, getKey, onItemAdd, onItemRemove) {\n  var instance = new Map();\n  var heights = new Map();\n  var updatedMark = ref(Symbol('update'));\n  watch(mergedData, function () {\n    updatedMark.value = Symbol('update');\n  });\n  var heightUpdateId = 0;\n  function collectHeight() {\n    heightUpdateId += 1;\n    var currentId = heightUpdateId;\n    Promise.resolve().then(function () {\n      // Only collect when it's latest call\n      if (currentId !== heightUpdateId) return;\n      // let changed = false;\n      instance.forEach(function (element, key) {\n        if (element && element.offsetParent) {\n          var offsetHeight = element.offsetHeight;\n          if (heights.get(key) !== offsetHeight) {\n            //changed = true;\n            updatedMark.value = Symbol('update');\n            heights.set(key, element.offsetHeight);\n          }\n        }\n      });\n    });\n  }\n  function setInstance(item, ins) {\n    var key = getKey(item);\n    var origin = instance.get(key);\n    if (ins) {\n      instance.set(key, ins.$el || ins);\n      collectHeight();\n    } else {\n      instance.delete(key);\n    }\n    // Instance changed\n    if (!origin !== !ins) {\n      if (ins) {\n        onItemAdd === null || onItemAdd === void 0 ? void 0 : onItemAdd(item);\n      } else {\n        onItemRemove === null || onItemRemove === void 0 ? void 0 : onItemRemove(item);\n      }\n    }\n  }\n  return [setInstance, collectHeight, heights, updatedMark];\n}","map":{"version":3,"names":["watch","ref","useHeights","mergedData","getKey","onItemAdd","onItemRemove","instance","Map","heights","updatedMark","Symbol","value","heightUpdateId","collectHeight","currentId","Promise","resolve","then","forEach","element","key","offsetParent","offsetHeight","get","set","setInstance","item","ins","origin","$el","delete"],"sources":["/Users/dev/e-approver/node_modules/ant-design-vue/es/vc-virtual-list/hooks/useHeights.js"],"sourcesContent":["import { watch, ref } from 'vue';\nexport default function useHeights(mergedData, getKey, onItemAdd, onItemRemove) {\n  var instance = new Map();\n  var heights = new Map();\n  var updatedMark = ref(Symbol('update'));\n  watch(mergedData, function () {\n    updatedMark.value = Symbol('update');\n  });\n  var heightUpdateId = 0;\n  function collectHeight() {\n    heightUpdateId += 1;\n    var currentId = heightUpdateId;\n    Promise.resolve().then(function () {\n      // Only collect when it's latest call\n      if (currentId !== heightUpdateId) return;\n      // let changed = false;\n      instance.forEach(function (element, key) {\n        if (element && element.offsetParent) {\n          var offsetHeight = element.offsetHeight;\n          if (heights.get(key) !== offsetHeight) {\n            //changed = true;\n            updatedMark.value = Symbol('update');\n            heights.set(key, element.offsetHeight);\n          }\n        }\n      });\n    });\n  }\n  function setInstance(item, ins) {\n    var key = getKey(item);\n    var origin = instance.get(key);\n    if (ins) {\n      instance.set(key, ins.$el || ins);\n      collectHeight();\n    } else {\n      instance.delete(key);\n    }\n    // Instance changed\n    if (!origin !== !ins) {\n      if (ins) {\n        onItemAdd === null || onItemAdd === void 0 ? void 0 : onItemAdd(item);\n      } else {\n        onItemRemove === null || onItemRemove === void 0 ? void 0 : onItemRemove(item);\n      }\n    }\n  }\n  return [setInstance, collectHeight, heights, updatedMark];\n}"],"mappings":"AAAA,SAASA,KAAK,EAAEC,GAAG,QAAQ,KAAK;AAChC,eAAe,SAASC,UAAUA,CAACC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,EAAE;EAC9E,IAAIC,QAAQ,GAAG,IAAIC,GAAG,EAAE;EACxB,IAAIC,OAAO,GAAG,IAAID,GAAG,EAAE;EACvB,IAAIE,WAAW,GAAGT,GAAG,CAACU,MAAM,CAAC,QAAQ,CAAC,CAAC;EACvCX,KAAK,CAACG,UAAU,EAAE,YAAY;IAC5BO,WAAW,CAACE,KAAK,GAAGD,MAAM,CAAC,QAAQ,CAAC;EACtC,CAAC,CAAC;EACF,IAAIE,cAAc,GAAG,CAAC;EACtB,SAASC,aAAaA,CAAA,EAAG;IACvBD,cAAc,IAAI,CAAC;IACnB,IAAIE,SAAS,GAAGF,cAAc;IAC9BG,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,YAAY;MACjC;MACA,IAAIH,SAAS,KAAKF,cAAc,EAAE;MAClC;MACAN,QAAQ,CAACY,OAAO,CAAC,UAAUC,OAAO,EAAEC,GAAG,EAAE;QACvC,IAAID,OAAO,IAAIA,OAAO,CAACE,YAAY,EAAE;UACnC,IAAIC,YAAY,GAAGH,OAAO,CAACG,YAAY;UACvC,IAAId,OAAO,CAACe,GAAG,CAACH,GAAG,CAAC,KAAKE,YAAY,EAAE;YACrC;YACAb,WAAW,CAACE,KAAK,GAAGD,MAAM,CAAC,QAAQ,CAAC;YACpCF,OAAO,CAACgB,GAAG,CAACJ,GAAG,EAAED,OAAO,CAACG,YAAY,CAAC;UACxC;QACF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA,SAASG,WAAWA,CAACC,IAAI,EAAEC,GAAG,EAAE;IAC9B,IAAIP,GAAG,GAAGjB,MAAM,CAACuB,IAAI,CAAC;IACtB,IAAIE,MAAM,GAAGtB,QAAQ,CAACiB,GAAG,CAACH,GAAG,CAAC;IAC9B,IAAIO,GAAG,EAAE;MACPrB,QAAQ,CAACkB,GAAG,CAACJ,GAAG,EAAEO,GAAG,CAACE,GAAG,IAAIF,GAAG,CAAC;MACjCd,aAAa,EAAE;IACjB,CAAC,MAAM;MACLP,QAAQ,CAACwB,MAAM,CAACV,GAAG,CAAC;IACtB;IACA;IACA,IAAI,CAACQ,MAAM,KAAK,CAACD,GAAG,EAAE;MACpB,IAAIA,GAAG,EAAE;QACPvB,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACsB,IAAI,CAAC;MACvE,CAAC,MAAM;QACLrB,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACqB,IAAI,CAAC;MAChF;IACF;EACF;EACA,OAAO,CAACD,WAAW,EAAEZ,aAAa,EAAEL,OAAO,EAAEC,WAAW,CAAC;AAC3D"},"metadata":{},"sourceType":"module","externalDependencies":[]}