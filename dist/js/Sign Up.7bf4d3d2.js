"use strict";(self["webpackChunke_approver"]=self["webpackChunke_approver"]||[]).push([[113],{25147:(e,n,r)=>{r.d(n,{Z:()=>a});var s=r(40471);const a={signIn:function(e,n){return s.Z.post("auth/sign-in",{username:e,password:n})},signUp:function(e){return s.Z.post("auth/sign-up",e)}}},84494:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});r(68309),r(57658);var s=r(4448),a=function(e){return(0,s.dD)("data-v-514dc0be"),e=e(),(0,s.Cn)(),e},t={class:"login-page"},i={class:"login-container"},u=a((function(){return(0,s._)("h1",null,"e-approver",-1)})),o=a((function(){return(0,s._)("p",null," Sign up for new accout ",-1)})),c={class:"login-input"};function l(e,n,r,a,l,p){var d=this,h=(0,s.up)("a-divider"),g=(0,s.up)("a-input"),m=(0,s.up)("a-input-password"),f=(0,s.up)("a-button");return(0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("div",i,[u,o,(0,s.Wm)(h),(0,s.Wm)(g,{placeholder:"Username",class:"login-input",size:"large",value:e.username,"onUpdate:value":n[0]||(n[0]=function(n){return e.username=n})},null,8,["value"]),(0,s.Wm)(g,{placeholder:"Full Name",class:"login-input",size:"large",value:e.name,"onUpdate:value":n[1]||(n[1]=function(n){return e.name=n})},null,8,["value"]),(0,s.Wm)(m,{placeholder:"Password",class:"login-input",size:"large",value:e.password,"onUpdate:value":n[2]||(n[2]=function(n){return e.password=n})},null,8,["value"]),(0,s.Wm)(m,{placeholder:"Confirm Password",class:"login-input",size:"large",value:e.confirmPassword,"onUpdate:value":n[3]||(n[3]=function(n){return e.confirmPassword=n})},null,8,["value"]),(0,s.Wm)(f,{type:"primary",class:"login-input width-full",size:"large",onClick:e.signUp},{default:(0,s.w5)((function(){return[(0,s.Uk)(" Sign Up ")]})),_:1},8,["onClick"]),(0,s._)("p",c,[(0,s.Uk)("already have an account "),(0,s._)("a",{onClick:n[4]||(n[4]=function(e){return d.$router.push("/login")})},"Sign In here")])])])}var p=r(50124),d=r(70655),h=r(25147);const g=(0,s.aZ)({data:function(){return{username:(0,s.iH)(""),password:(0,s.iH)(""),confirmPassword:(0,s.iH)(""),name:(0,s.iH)("")}},methods:{signIn:function(){return(0,d.mG)(this,void 0,void 0,(0,p.Z)().mark((function e(){var n=this;return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.username.length<=0||this.password.length<=0)){e.next=2;break}return e.abrupt("return",this.$message.error("Username and Password is required!"));case 2:return e.next=4,h.Z.signIn(this.username,this.password).then((function(e){var r=e.data;return(0,d.mG)(n,void 0,void 0,(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,localStorage.setItem("accessToken",r.accessToken);case 2:return e.next=4,localStorage.setItem("logged_in","true");case 4:this.$message.success("Sign In Successfully"),window.location.reload();case 6:case"end":return e.stop()}}),e,this)})))}))["catch"]((function(e){console.log(e),n.$message.error(e.message)}));case 4:case"end":return e.stop()}}),e,this)})))},signUp:function(){return(0,d.mG)(this,void 0,void 0,(0,p.Z)().mark((function e(){var n=this;return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.username.length<=0)){e.next=2;break}return e.abrupt("return",this.$message.error("Username is required!"));case 2:if(!(this.name.length<=0)){e.next=4;break}return e.abrupt("return",this.$message.error("Full Name is required!"));case 4:if(!(this.password.length<=0)){e.next=6;break}return e.abrupt("return",this.$message.error("Password is required!"));case 6:if(this.password===this.confirmPassword){e.next=8;break}return e.abrupt("return",this.$message.error("Password not indentical with Confirm Password"));case 8:return e.next=10,h.Z.signUp({username:this.username,password:this.password,name:this.name}).then((function(){n.signIn(),n.$message.success("Sign Up Successfully")}))["catch"]((function(e){console.log(e),n.$message.error(e.message)}));case 10:case"end":return e.stop()}}),e,this)})))}}});var m=r(83744);const f=(0,m.Z)(g,[["render",l],["__scopeId","data-v-514dc0be"]]),w=f}}]);
//# sourceMappingURL=Sign Up.7bf4d3d2.js.map