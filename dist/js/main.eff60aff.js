(()=>{"use strict";var e={54412:(e,t,n)=>{n.d(t,{Gs:()=>r,I4:()=>o,k0:()=>i,qw:()=>a});n(69600);var o="219C2261C03B4A3685DF6EDC898EAD97",r="x1E_RdPfZxxtC4eICylkSqsrwXZLju8sM1NISfzLL2M6YaAd",a="http://localhost/",i=["openid","profile","email","accounting.transactions","accounting.transactions.read","offline_access","files","payroll.employees","payroll.payruns","payroll.payslip","payroll.timesheets","payroll.settings","projects","accounting.settings","accounting.attachments","accounting.contacts","accounting.reports.read","accounting.journals.read","accounting.budgets.read","accounting.reports.tenninetynine.read","assets"].join(" ")},11073:(e,t,n)=>{n(66992),n(88674),n(19601),n(17727);var o=n(4448);function r(e,t,n,r,a,i){var u=(0,o.up)("main-layout"),s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,["/login"!=e.$route.path&&"/login/"!=e.$route.path&&"/register"!=e.$route.path&&"/register/"!=e.$route.path?((0,o.wg)(),(0,o.j4)(u,{key:0})):(0,o.kq)("",!0),"/login"==e.$route.path||"/login/"==e.$route.path||"/register"==e.$route.path||"/register/"==e.$route.path?((0,o.wg)(),(0,o.j4)(s,{key:1},{default:(0,o.w5)((function(e){var t=e.Component;return[((0,o.wg)(),(0,o.j4)((0,o.LL)(t)))]})),_:1})):(0,o.kq)("",!0)],64)}var a=n(50124),i=n(54621),u=n(66347),s=(n(74916),n(64765),n(57658),n(70655));function l(e,t,n,r,a,i){var u=(0,o.up)("NavMenu"),s=(0,o.up)("MainHeader"),l=(0,o.up)("router-view"),c=(0,o.up)("a-layout-content"),d=(0,o.up)("a-layout");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{collapsed:e.collapsed},null,8,["collapsed"]),(0,o.Wm)(d,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{onCollapsing:t[0]||(t[0]=function(t){return e.collapsed=!e.collapsed})}),(0,o.Wm)(c,{style:(0,o.j5)({margin:"24px 16px",padding:"24px",background:"#fff",height:"calc(100vh - 112px)",overflow:"auto"})},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,null,{default:(0,o.w5)((function(e){var t=e.Component;return[((0,o.wg)(),(0,o.j4)((0,o.LL)(t)))]})),_:1})]})),_:1},8,["style"])]})),_:1})]})),_:1})}var c=function(e){return(0,o.dD)("data-v-7d2f7031"),e=e(),(0,o.Cn)(),e},d=c((function(){return(0,o._)("div",{class:"logo"},null,-1)})),p=c((function(){return(0,o._)("span",null,"Contact",-1)})),f=c((function(){return(0,o._)("span",null,"Purchase Order",-1)})),g=c((function(){return(0,o._)("span",null,"Application",-1)})),h=c((function(){return(0,o._)("span",null,"Log Out",-1)}));function m(e,t,n,r,a,i){var u=(0,o.up)("contacts-outlined"),s=(0,o.up)("router-link"),l=(0,o.up)("a-menu-item"),c=(0,o.up)("file-add-outlined"),m=(0,o.up)("cluster-outlined"),v=(0,o.up)("a-menu"),w=(0,o.up)("logout-outlined"),y=(0,o.up)("a-layout-sider");return(0,o.wg)(),(0,o.j4)(y,{collapsed:e.isCollapsed,"onUpdate:collapsed":t[2]||(t[2]=function(t){return e.isCollapsed=t}),trigger:null,collapsible:""},{default:(0,o.w5)((function(){return[d,(0,o.Wm)(v,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":t[0]||(t[0]=function(t){return e.selectedKeys=t}),theme:"dark",mode:"inline"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{key:"1"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{to:"/contact"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u),p]})),_:1})]})),_:1}),(0,o.Wm)(l,{key:"2"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{to:"/purchase-order"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c),f]})),_:1})]})),_:1}),(0,o.Wm)(l,{key:"4"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{to:"/app-integration"},{default:(0,o.w5)((function(){return[(0,o.Wm)(m),g]})),_:1})]})),_:1})]})),_:1},8,["selectedKeys"]),(0,o.Wm)(v,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":t[1]||(t[1]=function(t){return e.selectedKeys=t}),mode:"inline",theme:"dark",class:"nav-foot"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{onClick:e.handleLogout,key:"logout"},{icon:(0,o.w5)((function(){return[(0,o.Wm)(w)]})),default:(0,o.w5)((function(){return[h]})),_:1},8,["onClick"])]})),_:1},8,["selectedKeys"])]})),_:1},8,["collapsed"])}var v=n(44263),w=n(50560),y=n(11718),Z=n(13641);const b=(0,o.aZ)({data:function(){return{selectedKeys:(0,o.iH)(["1"]),isCollapsed:(0,o.iH)(!1)}},props:{collapsed:Boolean},components:{FileAddOutlined:v.Z,LogoutOutlined:w.Z,ClusterOutlined:y.Z,ContactsOutlined:Z.Z},methods:{handleLogout:function(){localStorage.setItem("logged_in",null),this.$router.push("/login")}},watch:{collapsed:function(){this.isCollapsed=this.collapsed}}});var k=n(83744);const C=(0,k.Z)(b,[["render",m],["__scopeId","data-v-7d2f7031"]]),_=C;var P={align:"center"},A=(0,o._)("h2",null,"Hey, let's integrate with your organization from Xero!",-1);function S(e,t,n,r,a,i){var u=(0,o.up)("menu-unfold-outlined"),s=(0,o.up)("menu-fold-outlined"),l=(0,o.up)("a-select"),c=(0,o.up)("a-layout-header"),d=(0,o.up)("a-button"),p=(0,o.up)("a-modal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c,{style:{background:"#fff","padding-left":"20px"},align:"left"},{default:(0,o.w5)((function(){return[e.collapsed?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"trigger",onClick:e.collapsing},null,8,["onClick"])):((0,o.wg)(),(0,o.j4)(s,{key:1,class:"trigger",onClick:e.collapsing},null,8,["onClick"])),(0,o.Wm)(l,{value:e.tenant,"onUpdate:value":t[0]||(t[0]=function(t){return e.tenant=t}),style:{"padding-left":"20px"}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.connections,(function(e){return(0,o.wg)(),(0,o.j4)(l,{key:e.id,value:e.tenantId},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,o.zw)(e.tenantName),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),(0,o.Wm)(p,{centered:"",title:"Integrate With Xero",visible:e.showDialogRouteToApplication,"onUpdate:visible":t[1]||(t[1]=function(t){return e.showDialogRouteToApplication=t}),footer:null},{default:(0,o.w5)((function(){return[(0,o._)("div",P,[A,(0,o.Wm)(d,{type:"primary",size:"large",onClick:e.routeToApplication},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Let's start ")]})),_:1},8,["onClick"])])]})),_:1},8,["visible"])],64)}var I=n(63618),x=n(79836),T=n(83263);const j=(0,o.aZ)({data:function(){return{collapsed:(0,o.iH)(!1),connections:(0,o.iH)([]),tenant:(0,o.iH)(""),showDialogRouteToApplication:(0,o.iH)(!1)}},components:{MenuUnfoldOutlined:I.Z,MenuFoldOutlined:x.Z},emits:["collapsing"],methods:{collapsing:function(){this.collapsed=!this.collapsed,this.$emit("collapsing")},routeToApplication:function(){this.showDialogRouteToApplication=!1,this.$router.push("/app-integration")},findAllConnection:function(){return(0,s.mG)(this,void 0,void 0,(0,a.Z)().mark((function e(){var t=this;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.Z.getAllConnection().then((function(e){var n=e.data;t.connections=n,n.length>0?(t.tenant=n[0].tenantId,localStorage.setItem("tenant",n[0].tenantId)):t.showDialogRouteToApplication=!0}))["catch"]((function(){t.connections=[],t.showDialogRouteToApplication=!0}));case 2:case"end":return e.stop()}}),e)})))}},watch:{tenant:function(){localStorage.setItem("tenant",this.tenant)}},mounted:function(){"true"==localStorage.getItem("logged_in")&&this.findAllConnection()}}),O=(0,k.Z)(j,[["render",S]]),W=O,L=(0,o.aZ)({components:{NavMenu:_,MainHeader:W},setup:function(){return{selectedKeys:(0,o.iH)(["1"]),collapsed:(0,o.iH)(!1)}}}),$=(0,k.Z)(L,[["render",l]]),N=$;function D(){var e={},t=window.location.search.substring(1);if(t){var n,o=t.split("&"),r=(0,u.Z)(o);try{for(r.s();!(n=r.n()).done;){var a=n.value,s=a.split("="),l=(0,i.Z)(s,2),c=l[0],d=l[1];e[c]=decodeURIComponent(d)}}catch(p){r.e(p)}finally{r.f()}}return e}const E=(0,o.aZ)({data:function(){return{}},components:{MainLayout:N},methods:{generateToken:function(){return(0,s.mG)(this,void 0,void 0,(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.Z.generateToken(this.code).then((function(){window.location.reload()}));case 2:case"end":return e.stop()}}),e,this)})))}},mounted:function(){var e=window.location.pathname,t="true"==localStorage.getItem("logged_in");t||"/register"===e||"/register/"===e?t&&"/register/"!=e&&"/register"!=e?this.$router.push("purchase-order"):this.$router.push("/register"):this.$router.push("/login");var n=D(),o=n.code,r=n.scope,a=n.session_state,i=n.state;this.code=o,this.scope=r,this.sessionState=a,this.state=i,o&&this.generateToken()}}),H=(0,k.Z)(E,[["render",r]]),U=H;var K=n(95205);(0,K.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n(41539),n(78783),n(33948);var B=n(22201),M=[{path:"/login",name:"Sign In",component:function(){return n.e(821).then(n.bind(n,44980))}},{path:"/register",name:"Sign Up",component:function(){return n.e(113).then(n.bind(n,84494))}},{path:"/contact",name:"Contact",component:function(){return n.e(337).then(n.bind(n,89178))}},{path:"/purchase-order",name:"Purchase Order",component:function(){return n.e(359).then(n.bind(n,16457))}},{path:"/bill",name:"Bill",component:function(){return n.e(881).then(n.bind(n,63779))}},{path:"/app-integration",name:"Application",component:function(){return n.e(928).then(n.bind(n,70087))}}],R=(0,B.p7)({history:(0,B.PO)("/"),routes:M});const z=R;var F=n(33907);const q=(0,F.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});var G=n(38988),Y=n(45949),X=n(99230),J=n(6329),Q=n(52245),V=n(9179),ee=n(27782),te=n(24871),ne=n(65494),oe=n(16987),re=n(95878),ae=n(31802),ie=n(9283),ue=n(3107),se=n(39417),le=n(9982),ce=n(46978),de=n(92262),pe=n(72625),fe=n(72616),ge=n(6097),he=n(1910),me=n(96461),ve=n(98704),we=n(25808),ye=n(29937),Ze=n(9864),be=n(88943),ke=n(4873),Ce=n(60911),_e=n(70198),Pe=n(46912),Ae=n(773),Se=n(40904),Ie=n(47297),xe=n(70473),Te=n(80486),je=(0,o.ri)(U);je.use(G.ZP),je.use(Y.Z),je.use(X.ZP),je.use(J.Z),je.use(Q.ZP),je.use(V.ZP),je.use(ee.ZP),je.use(te.Z),je.use(ne.Z),je.use(oe.Z),je.use(re.ZP),je.use(ae.ZP),je.use(ie.ZP),je.use(ue.C),je.use(se.Z),je.use(le.ZP),je.use(ce.Z),je.use(de.Z),je.use(pe.ZP),je.use(fe.Z),je.use(ge.ZP),je.use(he.Z),je.use(me.ZP),je.use(ve.Z),je.use(we.ZP),je.use(ye.ZP),je.use(Ze.ZP),je.use(be.Z),je.use(ke.Z),je.use(Ce.Z),je.use(_e.Z),je.use(Pe.ZP),je.use(ye.ZP),je.use(Ae.ZP),je.use(Se.Z),je.use(Ie.Z),je.use(q).use(z).mount("#app"),je.config.globalProperties.$notification=xe.Z,je.config.globalProperties.$message=Te.ZP,je.config.globalProperties.$confirm=se.Z.confirm},40471:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(50124),r=(n(57658),n(21249),n(41539),n(70655)),a=n(6154),i=a.Z.create({baseURL:"http://localhost:3000/api/",headers:{Authorization:"Bearer "+localStorage.getItem("accessToken"),"Content-Type":"application/json"}});console.log(localStorage.getItem("accessToken"));var u=[];function s(e){u.push(e)}function l(){u.map((function(e){return e()}))}function c(){return(0,r.mG)(this,void 0,void 0,(0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{"false"==localStorage.getItem("logged_in")&&(localStorage.setItem("logged_in","false"),window.location.reload()),l(),u=[]}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))}i.interceptors.response.use((function(e){return e}),(function(e){return(0,r.mG)(void 0,void 0,void 0,(0,o.Z)().mark((function t(){var n,i,u,l,d,p;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.config,i=e.response,u=i.status,l=i.data,d=n,401!==u){t.next=10;break}return t.next=5,c();case 5:return n.headers["Authorization"]="Bearer "+localStorage.getItem("accessToken"),t.next=8,new Promise((function(e){return s((function(){return(0,r.mG)(void 0,void 0,void 0,(0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d.headers["Authorization"]="Bearer "+localStorage.getItem("accessToken"),t.t0=e,t.next=4,(0,a.Z)(d);case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})))}))}));case 8:return p=t.sent,t.abrupt("return",p);case 10:return t.abrupt("return",Promise.reject(l));case 11:case"end":return t.stop()}}),t)})))}));const d=i},83263:(e,t,n)=>{n.d(t,{Z:()=>i});n(96647),n(27479),n(87714),n(82801),n(1174),n(92222),n(41539),n(78783),n(33948),n(41637);var o=n(54412),r=n(6154),a=n(40471);const i={generateToken:function(e){return a.Z.post("auth/register/xero?code=".concat(e))},refreshToken:function(){var e={Authorization:"Basic "+btoa("".concat(o.I4,":").concat(o.Gs)),"Content-Type":"application/x-www-form-urlencoded"},t=new URLSearchParams;return t.append("grant_type","refresh_token"),t.append("refresh_token",localStorage.getItem("xeroRefreshToken")),r.Z.post("https://identity.xero.com/connect/token",t,{headers:e})},getAllConnection:function(){return a.Z.get("connection")},getAllPurchaseOrder:function(){return a.Z.get("purchase-order?tenantId=".concat(localStorage.getItem("tenant")))},getAllContact:function(){return a.Z.get("contact?tenantId=".concat(localStorage.getItem("tenant")))},createContact:function(e){return a.Z.post("contact?tenantId=".concat(localStorage.getItem("tenant")),{Contacts:[e]})}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,r,a]=e[c],u=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(u=!1,a<i&&(i=a));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+{113:"Sign Up",337:"Contact",359:"Purchase Order",821:"Sign In",881:"Bill",928:"Application"}[e]+"."+{113:"7bf4d3d2",337:"b182aa3d",359:"6eb972ee",821:"0ce85b46",881:"abca03c7",928:"cfa5861a"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+{113:"Sign Up",337:"Contact",359:"Purchase Order",821:"Sign In",928:"Application"}[e]+"."+{113:"3e5f04a5",337:"1de1ef86",359:"be4d419b",821:"cddb6465",928:"42aefc94"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="e-approver:";n.l=(o,r,a,i)=>{if(e[o])e[o].push(r);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(s=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=o),e[o]=[r];var p=(t,n)=>{u.onerror=u.onload=null,clearTimeout(f);var r=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),s&&document.head.appendChild(u)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,n,o,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=n=>{if(a.onerror=a.onload=null,"load"===n.type)o();else{var i=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=i,s.request=u,a.parentNode&&a.parentNode.removeChild(a),r(s)}};return a.onerror=a.onload=i,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){r=i[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=o=>new Promise(((r,a)=>{var i=n.miniCssF(o),u=n.p+i;if(t(i,u))return r();e(o,u,null,r,a)})),r={179:0};n.f.miniCss=(e,t)=>{var n={113:1,337:1,359:1,821:1,928:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))}}})(),(()=>{var e={179:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));o.push(r[2]=a);var i=n.p+n.u(t),u=new Error,s=o=>{if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,r[1](u)}};n.l(i,s,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,u,s]=o,l=0;if(i.some((t=>0!==e[t]))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(s)var c=s(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunke_approver"]=self["webpackChunke_approver"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[998],(()=>n(11073)));o=n.O(o)})();
//# sourceMappingURL=main.eff60aff.js.map