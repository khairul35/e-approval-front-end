"use strict";(self["webpackChunke_approver"]=self["webpackChunke_approver"]||[]).push([[821],{25147:(e,n,r)=>{r.d(n,{Z:()=>s});var t=r(40471);const s={signIn:function(e,n){return t.Z.post("auth/sign-in",{username:e,password:n})},signUp:function(e){return t.Z.post("auth/sign-up",e)}}},44980:(e,n,r)=>{r.r(n),r.d(n,{default:()=>m});r(57658);var t=r(4448),s=function(e){return(0,t.dD)("data-v-6865adbb"),e=e(),(0,t.Cn)(),e},a={class:"login-page"},u={class:"login-container"},i=s((function(){return(0,t._)("h1",null,"e-approver",-1)})),o=s((function(){return(0,t._)("p",null," Let's Sign In to your accout ",-1)})),c={class:"login-input"};function l(e,n,r,s,l,p){var d=this,g=(0,t.up)("a-divider"),h=(0,t.up)("a-input"),v=(0,t.up)("a-input-password"),f=(0,t.up)("a-button");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t._)("div",u,[i,o,(0,t.Wm)(g),(0,t.Wm)(h,{placeholder:"Username",class:"login-input",size:"large",value:e.username,"onUpdate:value":n[0]||(n[0]=function(n){return e.username=n})},null,8,["value"]),(0,t.Wm)(v,{placeholder:"Password",class:"login-input",size:"large",value:e.password,"onUpdate:value":n[1]||(n[1]=function(n){return e.password=n})},null,8,["value"]),(0,t.Wm)(f,{type:"primary",class:"login-input width-full",size:"large",onClick:e.signIn},{default:(0,t.w5)((function(){return[(0,t.Uk)(" Sign In ")]})),_:1},8,["onClick"]),(0,t._)("p",c,[(0,t.Uk)("does not have account? "),(0,t._)("a",{onClick:n[2]||(n[2]=function(e){return d.$router.push("/register")})},"Sign Up here")])])])}var p=r(50124),d=r(70655),g=r(25147);const h=(0,t.aZ)({data:function(){return{username:(0,t.iH)(""),password:(0,t.iH)("")}},methods:{signIn:function(){return(0,d.mG)(this,void 0,void 0,(0,p.Z)().mark((function e(){var n=this;return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(localStorage.setItem("accessToken",null),!(this.username.length<=0||this.password.length<=0)){e.next=3;break}return e.abrupt("return",this.$message.error("Username and Password is required!"));case 3:return e.next=5,g.Z.signIn(this.username,this.password).then((function(e){var r=e.data;return(0,d.mG)(n,void 0,void 0,(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,localStorage.setItem("accessToken",r.accessToken);case 2:return e.next=4,localStorage.setItem("logged_in","true");case 4:this.$message.success("Sign In Successfully"),window.location.reload();case 6:case"end":return e.stop()}}),e,this)})))}))["catch"]((function(e){console.log(e),n.$message.error(e.message)}));case 5:case"end":return e.stop()}}),e,this)})))}}});var v=r(83744);const f=(0,v.Z)(h,[["render",l],["__scopeId","data-v-6865adbb"]]),m=f}}]);
//# sourceMappingURL=Sign In.0ce85b46.js.map